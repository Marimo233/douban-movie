{"version":3,"sources":["assets/short-comment.gif","assets/add-review.jpg","assets/add-doulist.jpg","components/hoverContent/index.tsx","request/api.ts","request/index.tsx","components/movieCard/index.tsx","components/carouselComponent/Arrow/index.tsx","components/carouselComponent/carousel/index.tsx","components/theaterCarousel/index.tsx","components/recommand/index.tsx","pages/Home/Home.tsx","pages/Subject/components/Info/index.tsx","pages/Subject/components/Rates/index.tsx","pages/Subject/components/Judge/index.tsx","pages/Subject/components/About/index.tsx","components/comments/index.tsx","pages/Subject/components/Comments/index.tsx","routes.ts","pages/Reviews/index.tsx","pages/Subject/index.tsx","pages/NotFound/index.tsx","App.tsx","index.tsx"],"names":["module","exports","index","props","detail","isHotList","react_default","a","createElement","className","style","left","pos","x","top","y","title","year","rate_default","disabled","value","Math","round","rating","average","allowHalf","toFixed","concat","collect_count","durations","pubdates","match","join","directors","name","casts","map","i","rate","Number","playable","duration","is_tv","episodes_count","types","item","actors","slice","short_comment","content","author","API","HotShowing","Billbord","HotTitle","Hot","Gallary","Recommand","Card","Subject","API_KEY","window","cancalXHRList","Get","api","params","source","axios","CancelToken","push","create","timeout","cancelToken","token","http","get","withRouter","_ref","Object","esm_extends","card","useRef","Info","_props$index","isgallary","root","document","getElementById","_useState","useState","_useState2","slicedToArray","status","setStatus","_useState3","_useState4","loading","setloading","currentLoading","_useState5","_useState6","timer","setTimer","_useState7","_useState8","setPos","_useState9","_useState10","CardInfo","setCardInfo","useEffect","current","getPosition","getBoundingClientRect","pageXOffset","offsetWidth","pageYOffset","toSubject","id","history","setTimeout","clearTimeout","react","key","src","banner","alt","ref","marginRight","onClick","onMouseEnter","onMouseLeave","images","small","replace","href","fontSize","color","ReactDom","createPortal","hoverContent_index","marginBottom","floor","length","subject_id","then","resp","subject","data","cover","is_new","SlidePreArrow","SlideNextArrow","Carousel","changePage","children","settings","dots","speed","slidesToShow","slidesToScroll","prevArrow","Arrow_SlidePreArrow","nextArrow","Arrow_SlideNextArrow","autoplay","autoplaySpeed","infinite","beforeChange","prevPage","nextPage","lib_default","TheaterCarousel","ishotList","isMovie","page","setPage","list","setList","setTitle","colums","url","apikey","type","tag","page_limit","page_start","_resp$data$subjects","subjects","Array","temp","tags","colNumber","k","kindx","components_movieCard","post","movie_title","rates","Home","BillbordList","setBillbord","data-bid","target","writers","genres","countries","languages","aka","Datamap","link","NumberPanel","details","totalCounts","keys","forEach","domGroup","currRatio","parseFloat","toString","width","Rates","ratings_count","Rates_NumberPanel","Judge","star","setStar","onHoverChange","time","debounceHover","require","About","summary","avatars","trailer_urls","trailers","poster","medium","Comment","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","scrollContent","setState","prevState","fold","state","_this$props","film","last","borderBottom","avatar","created_at","useful_count","split","str","icon_default","useless_count","comments_count","Component","Comments","commentsData","setCommentsData","comments","setComments","Loading","setLoading","comment","reviews","comments_Comment","react_router_dom","to","total","routers","component","Reviews","request","start","count","next_start","catch","err","alert","skippage","scrollLoad","scrollY","scrollStart","div","React","createRef","addEventListener","removeEventListener","_this2","verticalAlign","setData","Info_Info","Rates_Rates","Judge_Judge","About_About","Comments_Comments","NotFound","goBack","pushState","URL","goNewPage","console","log","location","Search","input_default","App","placeholder","onSearch","enterButton","react_router","path","from","exact","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.f1812234.chunk.js","sourcesContent":["module.exports = \"data:image/gif;base64,R0lGODlhCwALAIABAGZmZv///yH5BAEAAAEALAAAAAALAAsAAAIWjI8Hy6BpnINx0kVjsMji/T1cN3ZUAQA7\"","module.exports = \"data:image/jpeg;base64,R0lGODlhCgALAIABAGZmZv///yH5BAEAAAEALAAAAAAKAAsAAAIUjI9pwAqbnkQPnhpwvpT73YFUoxQAOw==\"","module.exports = \"data:image/jpeg;base64,R0lGODlhCAALAIABAGZmZv///yH5BAEAAAEALAAAAAAIAAsAAAIQjI+JAMreDJu0PhlXPledAgA7\"","import React,{Fragment} from 'react'\nimport {Rate} from 'antd'\n\nimport './index.less'\n\ninterface Props{\n  detail:any,\n  pos:any,\n  isHotList:boolean\n}\n\nexport default function index(props:Props) {\n  const {detail,isHotList}=props\n  return (\n  \n    <div className=\"hover-content\" style={{left:props.pos.x+'px',top:props.pos.y+'px'}}>\n    {\n      isHotList?\n      <div className='HotList-Card'>\n        <h1>{detail.title} <span>{detail.year}</span></h1>\n      <div className=\"hover-rates\">\n      <Rate disabled value={Math.round(detail.rating.average)/2} allowHalf /><span>{detail.rating.average.toFixed(1)} <i>{`(${detail.collect_count}人评价)`}</i></span>\n      </div>\n      <div className=\"time-local\">\n        <span>{detail.durations[0]}</span>\n        <span>{detail.pubdates[0].match(/[\\u4e00-\\u9fa5]/g).join('')}</span>\n      </div>\n      <div className=\"directors\">\n        导演 <span>{detail.directors[0].name}</span>\n      </div>\n      <div className=\"casts\">\n        演员 <span>{\n          detail.casts.map((i:any)=>{return i.name}).join('/')\n          }</span>\n      </div>\n      </div>\n      :<div className='Hot-card'>\n        <h1>{detail.title}</h1>\n        <div className=\"rates\">\n        <Rate disabled value={Math.round(detail.rate)/2} allowHalf /><span>{Number(detail.rate).toFixed(1)}</span>\n        </div>\n        <div className=\"casts\">\n          {detail.playable?<span className='special'>可播放</span>:''}\n          <span>{detail.duration}</span>\n          {detail.is_tv?<span>{detail.episodes_count}集</span>:''}\n          {\n            detail.types.map((item:string)=>{\n              return <span>{item}</span>\n            })\n          }\n          <span>{detail.directors[0]}(导演)</span>\n          {\n            detail.actors.slice(0,3).map((item:string)=>{\n              return <span>{item}</span>\n            })\n          }\n        </div>\n        <div className=\"btn-group\">\n          <button>在看</button>\n          <button>想看</button>\n          <button>看过</button>\n        </div>\n        <div className=\"short_comment\">\n          {detail.short_comment.content} <span>-{detail.short_comment.author}</span>\n        </div>\n      </div>\n    }\n    </div>\n  )\n}\n","//API\nexport const API={\n  HotShowing:'/test/movie/in_theaters',\n  Billbord:'/test/movie/weekly',\n  HotTitle:'/api/search_tags',\n  Hot:'/api/search_subjects',\n  Gallary:'/rap2/mock/223156/doubanMovie/gallery',\n  Recommand:'/rap2/mock/223156/doubanmovie/recommand',\n  Card:'/api/subject_abstract',\n  Subject:'/test/movie/subject'\n}\n\nexport const API_KEY = \"0b2bdeda43b5688921839c8ecb20399b\";","import axios from \"axios\";\n\n\ndeclare global {\n  interface Window {\n    cancalXHRList: any\n  }\n}\n\nwindow.cancalXHRList = [];\n\nfunction http() {\n  const CancelToken = axios.CancelToken;\n  const source = CancelToken.source();\n\n  window.cancalXHRList.push(source);\n\n  let instance: any = axios.create({\n    timeout: 3e4,\n    cancelToken: source.token,\n  });\n\n  return instance;\n}\nexport const Get=function(api:string,params:any){\n  return http().get(api,params)\n}","import React ,{Fragment,useState,useEffect,useRef}from 'react'\nimport ReactDom from 'react-dom'\nimport {withRouter,RouteComponentProps } from 'react-router-dom'\nimport {Rate} from 'antd'\nimport HoverContent from '../hoverContent'\n\n\nimport {API}  from '../../request/api'\nimport {Get} from '../../request'\nimport './index.less'\n\ninterface Props{\n  Info:any,\n  key:string|number,\n  isHotList:boolean,\n  index?:number,\n  isgallary?:boolean\n}\ninterface Position{\n  x:number,\n  y:number\n}\n\nconst MovieCard:React.FC<Props&RouteComponentProps>=({...props})=> {\n\n  const card=useRef<HTMLDivElement>(null)\n  const {Info,isHotList,index=0,isgallary}=props\n  const root = document.getElementById('root')  as HTMLElement\n  const [status,setStatus]=useState(false)\n  const [loading,setloading]=useState(false)\n  const currentLoading = useRef(loading)\n  const [timer,setTimer]=useState(false)\n  const [pos,setPos]=useState<Position>({x:0,y:0})\n  const [CardInfo,setCardInfo]=useState<Array<any>>([])\n  useEffect(()=>{currentLoading.current=loading})\n    //获取位置\nconst getPosition=()=>{\n  if(card.current){\n    const x=card.current.getBoundingClientRect().left+window.pageXOffset+card.current.offsetWidth+5;\n    const y=card.current.getBoundingClientRect().top+window.pageYOffset;\n    setPos({x,y})\n  }\n  \n}\n//请求Card数据\nconst requestCard=(id:string)=>{\n  getPosition()\n  if(CardInfo.length){\n    setStatus(true)\n    return\n  }else{\n    setloading(true)\n    Get(API.Card,{params:{subject_id:id}}).then((resp:any)=>{\n      if(!currentLoading.current){\n        return\n      }\n      const {subject}=resp.data\n      CardInfo.push(subject)\n      setCardInfo(CardInfo)\n      setStatus(true)\n    })\n  }\n  \n}\n//跳转详情页\nconst toSubject=(id:string|number)=>{\n  props.history.push(`/subject/${id}`)\n}\n  useEffect(()=>{\n    let timeout:any\n    if(timer){\n       timeout=setTimeout(()=>{\n        getPosition()\n        setStatus(true)},800)\n    }else{\n      setStatus(false)\n    }\n    return ()=>{clearTimeout(timeout)}\n  },[timer])\n  return (\n    <Fragment>{\n    //评论\n    isgallary?\n      <div key={Info.id} className='gallary-wrap'>\n        <div className=\"gallary-img\">\n          <img src={Info.banner} alt=\"\"/>\n        </div>\n        <div className='gallary-content'>\n          <p className='gallary-title'>{Info.title}</p>\n          <p className=\"gallary-detail\">{Info.content}</p>\n        </div>\n      </div>\n      //正在上映\n    :isHotList?\n    <div key={Info.id} className='post-wrap' ref={card} style={{marginRight:(index+1)%5!==0?'25px':''}} onClick={()=>{toSubject(Info.id)}}>\n        <div className='theaterPost' onMouseEnter={()=>{setTimer(true)}} onMouseLeave={()=>{setTimer(false)}}>\n          <img src={'https://images.weserv.nl/?url='+Info.images.small.replace('https://','')} alt={Info.title}/>\n        </div>\n        <h1><a href='javascript:void(0)'>{Info.title}</a></h1>\n        <div className=\"rates\">{\n          Info.rating.average===0\n          ? <span style={{fontSize:'12px',color:'#333'}}>暂无评分</span>\n          :<Fragment>\n            <Rate disabled value={Math.round(Info.rating.average)/2} allowHalf/>\n            <span>{Info.rating.average.toFixed(1)}</span>\n          </Fragment>\n        }\n        </div>\n      {\n        status?\n        ReactDom.createPortal(<HoverContent detail={Info} pos={pos} isHotList={isHotList}/>,root)\n        :null\n      }\n      <button><a href={`https://maoyan.com/query?kw=${Info.title}`}>选座购票</a></button>\n    </div>\n    //热门\n    :<div className='list-wrap' style={{marginRight:(index+1)%5!==0?'25px':'',marginBottom:Math.floor(index/5)===0?'10px':''}} ref={card} onClick={()=>{toSubject(Info.id)}}>\n      <div className=\"listPost\" onMouseEnter={()=>{requestCard(Info.id)}} onMouseLeave={()=>{return(setStatus(false),setloading(false))}}>\n        <img src={Info.cover} alt={Info.title}/>\n      </div>\n      <p className=\"listTitle\">\n        {Info.is_new?<i/>:''}\n        {Info.title}\n        <strong>{Info.rate}</strong>\n      </p>\n      {\n        status?\n          ReactDom.createPortal(<HoverContent detail={CardInfo[0]} pos={pos} isHotList={isHotList}/>,root)\n          :null\n        }\n    </div>\n  }\n  </Fragment>\n \n  )\n}\nexport default withRouter(MovieCard)","import React from 'react'\n\nimport './index.less'\n\ninterface arrowProps{\n  Name?:string\n  onClick?:any,\n  isHotList:boolean\n}\n\n//箭头前切换\nconst SlidePreArrow=(props:arrowProps)=>{\n  const {onClick,isHotList}=props\n  \n  return (\n    <div className={isHotList?'prevArrow-wrap-list':'prevArrow-wrap'} onClick={onClick}>\n      <a href=\"javascript:void(0)\" className='prev-btn switch-btn'></a>\n  </div>\n  )\n}\n//箭头后切换\nconst SlideNextArrow=(props:arrowProps)=>{\n  const {onClick,isHotList}=props\n  return (\n    <div className={isHotList?'nextArrow-wrap-list':'nextArrow-wrap'} onClick={onClick} >\n      <a href=\"javascript:void(0)\" className='next-btn switch-btn'></a>\n  </div>\n  )\n}\nexport{SlidePreArrow,SlideNextArrow}","import React from 'react'\nimport Slider from \"react-slick\";\n\nimport './index.less'\nimport {SlideNextArrow,SlidePreArrow} from '../Arrow'\n\ninterface  sliderSetting{\n  dots:boolean,\n  speed:number,\n  slidesToShow:number,\n  slidesToScroll:number,\n  nextArrow: any,\n  prevArrow:any,\n  beforeChange:any,\n  autoplay:boolean,\n  autoplaySpeed:number,\n  infinite: boolean\n}\n\ninterface Props{\n  changePage?:any,\n  children:any,\n  isHotList:boolean\n}\nexport default function Carousel(props:Props) {\nconst {changePage,isHotList,children}=props\nconst settings:sliderSetting = {\n  dots: !isHotList,\n  speed: 1500,\n  slidesToShow:1,\n  slidesToScroll:1,\n  prevArrow:<SlidePreArrow isHotList={isHotList}/>,\n  nextArrow: <SlideNextArrow isHotList={isHotList} />,\n  autoplay:true,\n  autoplaySpeed:6000,\n  infinite: true,\n  beforeChange:(prevPage:number,nextPage:number):void=>{\n    if(changePage){\n      changePage(nextPage+1)\n    }\n    }\n};\n  return(\n    <div>\n      <Slider {...settings}>\n        {children}\n      </Slider>\n    </div>\n  )\n}\n","import React,{useState,useEffect,Fragment} from 'react'\n\nimport './index.less'\nimport MovieCard from '../movieCard'\nimport Carousel from '../carouselComponent/carousel'\nimport {API,API_KEY}  from '../../request/api'\nimport {Get} from '../../request'\ninterface Props{\n  ishotList:boolean,\n  isMovie?:boolean,\n  title?:any,\n  isgallary?:boolean\n}\n\n\nexport default function TheaterCarousel(props:Props) {\n  const {ishotList,isMovie,isgallary}=props\n  let [page,setPage]=useState(1)\n  let [list,setList]=useState<Array<any>>([])\n  let [title,setTitle]=useState([])\n  const colums=ishotList?(isgallary?1:5):10\n  //请求轮播图\n  useEffect(()=>{\n    const url=ishotList?\n              isgallary?API.Gallary:API.HotShowing\n              :API.Hot\n    const param=ishotList?isgallary?{}:{params:{apikey: API_KEY}}\n                :{\n                  params:{\n                    type: isMovie?'movie':'tv',\n                    tag: '热门',\n                    page_limit: 50,\n                    page_start: 0\n                  }\n                }\n    Get(url,param).then((resp:any)=>{\n      const {subjects=Array(20)}=resp.data\n      let temp=[];\n    for(let i=0;i<subjects.length;i+=colums){\n      temp.push(subjects.slice(i,i+colums))\n    }\n    setList(temp)\n    })\n  },[])\n//请求标题\n  useEffect(()=>{\n    const url=API.HotTitle\n    const param={\n      params:{\n        type: isMovie?'movie':'tv',\n        tag: '热门',\n        source:'index'\n      }\n    }\n  Get(url,param).then((resp:any)=>{\n    const {tags}=resp.data\n    setTitle(tags)\n  })\n  },[])\n  // 页数指示器切换\n  const changePage=(page:number):void=>{\n    setPage(page)\n  }\n\nconst colNumber:number=list.length\n  return (\n       <div className=\"theaterContainer\">\n         <div className=\"carousel-title\">\n           {\n            ishotList\n            ?<div className=\"theaterContainer-head\">\n              {\n                isgallary\n                  ? <b>热门推荐</b>\n                 :<Fragment>\n                   <b>正在热映</b><a>全部正在热映»</a><a>即将上映»</a>\n                 </Fragment>\n              }\n              <i>{page}<span>/</span>{colNumber}</i>  \n            </div>\n            :<div className=\"hot-title\">\n              {isMovie?<b>最近热门电影</b>:<b>最近热门电视剧</b>}\n              <ul>\n                {\n                  title.map((item:any,index:number)=>{\n                    return <li key={item} className={index===0?'active-li':''}>{item}</li>\n                  })\n                }\n              </ul>\n              <a href=\"#\">更多»</a>\n          </div>\n           }\n         </div>\n          {list.length>0&& <Carousel changePage={changePage} isHotList={ishotList}>\n           {\n             list.map((item:any,index:number)=>{\n               return(\n                 <div key={index}>\n                   <div className='theaterContainer-wrap' >\n                   {\n                     item.map((k:any,kindx:number)=>{\n                       return <MovieCard Info={k} isHotList={ishotList} key={k.id} index={kindx} isgallary={isgallary}/>\n                     })\n                   }\n                   </div>\n                 </div>\n               )\n             })\n           }\n         </Carousel>}\n      </div>\n  )\n}\n","import React,{useState,useEffect} from 'react'\nimport {Rate} from 'antd'\n\nimport './index.less'\nimport {API,API_KEY}  from '../../request/api'\nimport {Get} from '../../request'\nexport default function Recommand() {\n  let [list,setList]=useState<Array<any>>([])\n  useEffect(()=>{\n    const url=API.Recommand\n    Get(url,{params:{apikey:API_KEY}}).then((resp:any)=>{\n      const {data}=resp.data\n      setList(data)\n    })\n  },[])\n  return (\n    <div className='recommand-wrap'>\n      <div className=\"recommand-title\">\n        <b>最受欢迎的影评</b>\n        <a href=\"#\">更多热门影评</a>\n        <a href=\"#\">新片影评</a>\n      </div>\n      {\n        list.map((item)=>{\n          return  <div className=\"recommand-content\">\n          <div className=\"recommand-post\">\n            <img src={item.post} alt={item.title}/>\n          </div>\n          <div className=\"recommand-detail\">\n            <div className=\"recommand-detail-title\">\n              {item.title}\n            </div>\n            <p className=\"user\">\n              {item.name}\n              <span>评论</span>\n              <i>\n              {item.movie_title}\n              </i>\n              <Rate value={Math.round(item.rates)/2} disabled allowHalf/>\n            </p>\n            <p className='recommand-detail-word'>\n              {item.detail}\n              <a href=\"#\">(全文)</a>\n            </p>\n          </div>\n        </div>\n        })\n      }\n    </div>\n  )\n}\n","import React,{useState, useEffect} from 'react'\n\n\nimport './index.less'\nimport TheaterCarousel from '../../components/theaterCarousel'\nimport Recommand from '../../components/recommand'\n\nimport {API,API_KEY}  from '../../request/api'\nimport {Get} from '../../request'\n\nconst Home:React.FC=(props:any)=> {\nlet [BillbordList,setBillbord]=useState<Array<any>>([])\n//口碑\nuseEffect(()=>{\n  const url=API.Billbord\n  Get(url,{params:{apikey: API_KEY}}).then((resp:any)=>{\n    setBillbord(resp.data.subjects)\n  })\n},[])\n  return (\n    <div>\n      <div className=\"content\">\n        <div className=\"wrap\">\n          <div className=\"content-left\">\n            <TheaterCarousel ishotList={true} isgallary={false}/>\n            <TheaterCarousel  ishotList={false} isMovie={true}/>\n            <TheaterCarousel ishotList={false} isMovie={false}/>\n            <TheaterCarousel ishotList={true} isgallary={true}/>\n            <Recommand />\n          </div>\n          <div className=\"content-right\">\n            <div className=\"answer\">\n              <a href=\"#\">豆瓣电影评分八问</a>\n            </div>\n            <div className=\"movie-activity\">\n                <div className=\"activity-title\">\n                  电影活动 &nbsp; · &nbsp;·&nbsp; ·&nbsp; ·&nbsp; · &nbsp;· \n                </div>\n                <ul>\n                  <li>\n                  <a href=\"https://www.douban.com/doubanapp/dispatch?uri=/niffler/column/157\" data-bid=\"2746\" target=\"_blank\">电影声音的魔盒 | 好莱坞声音设计大师课</a>\n                </li>\n                <li>\n                   <a href=\"https://bizpage.douban.com/hollywood-producer/\" data-bid=\"2735\" target=\"_blank\">招募 | 好莱坞制片人电影商务交流之旅</a>\n                </li>\n              </ul>\n            </div>\n            <div className=\"billboard\">\n              <h2>一周口碑榜 <a href=\"#\">更多榜单»</a></h2>\n              <ul>\n                {\n                  BillbordList.map((item,index)=>{\n                    const {subject}=item\n                    return(\n                      <li>\n                      <span>{index+1}</span><a href={subject.alt}>{subject.title}</a></li>\n                    )\n                  })\n                }\n              </ul>\n            </div>\n            <div id=\"doulist\">\n              <h2>热门豆列</h2>\n                <ul>\n                    <li>\n                    <span>15推荐</span>\n                    <div className=\"title\"><a target=\"_blank\" href=\"https://www.douban.com/doulist/2540888/\">小众迷你罪案剧</a></div>\n                    </li>\n                    <li>\n                    <span>15推荐</span>\n                    <div className=\"title\"><a target=\"_blank\" href=\"https://www.douban.com/doulist/1545747/\">这些年，我看过的les片(不断更新中）</a></div>\n                    </li>\n                  </ul>\n            </div>\n            <div className=\"contact-and-cooperation\">\n              <h2>合作联系</h2>\n              <ul>\n                    <li>电影合作邮箱：<img src=\"https://img3.doubanio.com/f/movie/c858df348b4d199c848774ed1b3ed529052f0fa1/pics/movie/email_movie.png\"/></li>\n                    <li>电视剧合作邮箱：\n                        <img src=\"https://img3.doubanio.com/f/movie/4de38ce91fdad7bcf3246c2594c84fa800eba08a/pics/movie/email_tv.png\"/>\n                        <img src=\"https://img3.doubanio.com/f/shire/486503da8c82ffdbecec41c065927f96cbf02e4f/pics/icon/ic_new.png\" className=\"new\"/>\n                    </li>\n                    <li>豆瓣影人PRO合作邮箱：<img src=\"https://img3.doubanio.com/f/movie/51a921a21ca8b612d586d37d3eb122e583a20d67/pics/movie/email_pro.png\"/></li>\n              </ul>\n            </div>\n            <div className=\"contact-mod\">\n              <h2>关注我们</h2>\n              <ul className=\"embassy-list clearfix\">\n                  <li>\n                      <a href=\"https://weibo.com/doubanfilm\" target=\"_blank\" className=\"icon-embassy-weibo\"></a>\n                      <a href=\"https://weibo.com/doubanfilm\" target=\"_blank\" className=\"primary-link\">微博</a>\n                  </li>\n                  <li>\n                      <a className=\"icon-embassy-weixin\">\n                          <div className=\"hover\"><img src=\"https://img3.doubanio.com/f/movie/2e2ea342f4f4590300de32c5f30a9184176b3541/pics/movie/home_wechat_qrcode@2x.jpg\"/></div>\n                      </a>\n                      <a className=\"primary-link\" href=\"javascript:;\">微信</a>\n                  </li>\n                  <li>\n                      <a href=\"https://weibo.com/doubanzui\" target=\"_blank\" className=\"icon-embassy-bite-me\"></a>\n                      <a href=\"https://weibo.com/doubanzui\" target=\"_blank\" className=\"primary-link\">瓣嘴</a>\n                  </li>\n                  <li>\n                      <a href=\"https://www.douban.com/people/186015655/\" target=\"_blank\" className=\"icon-embassy-film-pro\"></a>\n                      <a href=\"https://www.douban.com/people/186015655/\" target=\"_blank\" className=\"primary-link\">豆瓣影人PRO</a>\n                  </li>\n                  <li>\n                      <a href=\"https://www.douban.com/people/nobodyfilm/\" target=\"_blank\" className=\"icon-embassy-club-site\"></a>\n                      <a href=\"https://www.douban.com/people/nobodyfilm/\" target=\"_blank\" className=\"primary-link\">观影club</a>\n                  </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\nexport default Home\n\n","import React,{Fragment} from 'react'\n\nimport './index.less'\n\ninterface Props{\n  directors:any,\n  writers:any,\n  casts:any,\n  genres:any,\n  countries:any,\n  languages:any,\n  pubdates:any,\n  durations:string,\n  aka:any,\n  episodes_count:string\n}\n\nexport default function Info(props:Props) {\n  const {directors,writers,casts,genres,countries,languages,pubdates,durations,aka,episodes_count}=props\n\n  const Datamap=(data:any,link:boolean)=>{\n    return data.map((item:any,index:number)=>{\n      return<Fragment>\n            {index===0?'':<span>/</span>}\n            {link?<a href={item.alt} key={item.id}>{item.name}</a>:<span>{item}</span>}\n        </Fragment>\n    })\n}\n  return (\n    <div className=\"info\">\n    <p>导演：{Datamap(directors,true)}</p>\n    <p>编剧：{Datamap(writers,true)}</p>\n    <p>演员：{Datamap(casts,true)}</p>\n    <p>类型：{Datamap(genres,false)}</p>\n    <p>制片国家/地区：{Datamap(countries,false)}</p>\n    <p>语言：{Datamap(languages,false)}</p>\n    <p>上映日期：{Datamap(pubdates,false)}</p>\n    {\n      episodes_count?<p>集数：{episodes_count}</p>:''\n    }\n    <p>片长：{Datamap(durations,false)}</p>\n    {\n      aka.length?<p>又名：{Datamap(aka,false)}</p>:''\n    }\n </div>\n  )\n}\n","import React,{Fragment} from 'react'\nimport {Rate} from 'antd'\n\nimport './index.less'\n\ninterface Props{\n  rating:any,\n  ratings_count:number\n}\nconst NumberPanel=(props:any)=>{\n  const {details}=props\n  let totalCounts=0\n  Object.keys(details).forEach((item:string)=>{\n    totalCounts+=details[item]\n  })\n  let domGroup=[]\nfor(let i=5;i>0;i--){\n  let currRatio = parseFloat((details[i] * 100 / totalCounts).toString()).toFixed(1)\n  let temp= \n         <div className='number-detail' key={i}>\n          <span className='star-num'>{i}星</span>\n          <span className='star-power' style={{ width: `${currRatio}px` }}></span>\n          <span className='star-num'>{currRatio}%</span>\n        </div>\n  domGroup.push(temp)\n}\nreturn <Fragment>{domGroup}</Fragment> \n}\nexport default function Rates(props:Props) {\n  const {rating,ratings_count}=props\n  return (\n    <div className=\"subject-rates\">\n      <h4>豆瓣评分</h4>\n      <div className=\"rate-top\">\n      <div className=\"rates\">\n        <div className=\"average\">\n          {rating.average===0?'':rating.average.toFixed(1)}\n        </div>\n        <div className=\"detail\">\n          <Rate value={Math.round(rating.average)/2} allowHalf disabled/>\n          <p>{rating.average===0?'暂无评价':`已有${ratings_count}人评价`}</p>\n        </div>\n      </div>\n      <div className=\"rate-number\">{\n          rating.average===0?'' :<NumberPanel details={rating.details}/>\n        }\n        </div>\n      </div>\n      <div className=\"rate-bottom\">\n        <p>好于<span>88%的科幻片</span></p>\n        <p>好于<span>91%的动作片</span></p>\n      </div>\n    </div>\n  )\n}\n","import React ,{useState}from 'react'\nimport {Rate} from 'antd'\nimport './index.less'\n\n\nexport default function Judge() {\n  const [star,setStar]=useState(0)\n  let [timer,setTimer]=useState(0)\n  const desc=['很差', '较差','还行','推荐','力荐']\n  const debounceHover=(value:number,time:number)=>{\n      if(value){\n        if(timer){\n          clearTimeout(timer)\n        }\n        setTimer(window.setTimeout(()=>{setStar(value)},time))\n      }\n  }\n  return (\n    <div className=\"judge-wrap\">\n     <div className=\"judge-top\">\n        <button>想看</button>\n        <button>看过</button>\n        <span>\n        评价:&nbsp;&nbsp;&nbsp;\n        </span>\n        <Rate value={star}  onHoverChange={(value)=>{debounceHover(value,200)}}/>\n        <span>\n          {desc[star-1]}\n        </span>\n     </div>\n      <div className='judge-bottom' >\n          <span ><img src={require(\"@/assets/short-comment.gif\")} />&nbsp;<a href=\"#\">写短评</a></span>\n          <span><img src={require(\"@/assets/add-review.jpg\")} />&nbsp;<a href=\"#\">写影评</a></span>\n          <span><img src={require(\"@/assets/add-doulist.jpg\")} />&nbsp;<a href=\"#\">提问题</a></span>\n          <a href=\"#\">分享到</a>\n      </div>\n      \n  </div> \n  )\n}\n","import React,{Fragment} from 'react'\n\nimport './index.less'\n\ninterface Props{\n  data:any\n}\n\nexport default function About(props:Props) {\n  const {data}=props\n  return (\n    data&&\n    <div className='subject-about'>\n      <div className=\"subject-brief\">\n           <h1>{data.title}的剧情简介&nbsp;· &nbsp;· &nbsp;·&nbsp;·&nbsp; · &nbsp;·</h1>\n           <p>\n             {data.summary}\n           </p>\n      </div>\n         <div className=\"subject-casts\">\n         <h1>{data.title}的演职员&nbsp;· &nbsp;· &nbsp;·&nbsp;·&nbsp; · &nbsp;·<a href=\"#\">全部：({data.directors.length+data.casts.length})</a></h1>\n         <div className=\"casts-img\">\n           {data.directors.map((item:any)=>{\n             return <dl>\n                <dt><img src={'https://images.weserv.nl/?url='+item.avatars.small.replace('http://','')} alt={item.name}/></dt>\n                <dd>{item.name}</dd>\n                <p>导演</p>\n             </dl>\n           })}\n           {data.casts.map((item:any)=>{\n             return <dl>\n                <dt><img src={'https://images.weserv.nl/?url='+item.avatars.small.replace('http://','')} alt={item.name}/></dt>\n                <dd>{item.name}</dd>\n                <p>演员</p>\n             </dl>\n           })}\n         </div>\n        </div>\n        <div className=\"subject-trailer\">\n          <h1>{data.title}的视频和图片\n              <ul>\n                <li><a href=\"#\">（&nbsp;预告片{data.trailer_urls.length}</a></li><i>|</i>\n                <li><a href=\"#\">添加视频评论</a></li><i>|</i>\n                <li><a href=\"#\">图片{data.trailers.length} <span> &nbsp;·&nbsp; </span>添加&nbsp;{')'}</a>&nbsp;</li>\n              </ul>\n          </h1>\n          <ul>\n            <li className='videoLi'><video src={data.trailer_urls} poster={data.trailers[0].medium}></video><span>预告片</span></li>\n            {\n              data.trailers.map((item:any)=>{\n                  return <li><img src={item.medium} alt=\"\"/></li>\n              })\n            }\n          </ul>\n        </div>\n    </div>\n  )\n}\n","import React, { Component,Fragment } from 'react'\nimport {Rate,Icon} from 'antd'\nimport './index.less'\n\ninterface Props{\n  item:any,\n  film:boolean,\n  last:boolean\n}\ninterface State{\n  fold:boolean\n}\n\nexport default class Comment extends Component <Props,State>{\n  constructor(props:Props){\n    super(props)\n    this.state={\n      fold:props.item.content.length>180\n    }\n  }\n scrollContent=()=>{\n   this.setState((prevState,props)=>({fold:!prevState.fold}))\n}\n  render() {\n    const {item,film,last}=this.props\n    return (\n      <div className=\"comment\" key={item.id} style={{borderBottom:last?'none':'1px solid rgba(221,221,221,0.5)'}}>\n          <div className=\"top\">\n           { film?<img src={item.author.avatar} alt=\"\"/>:''}\n            <a href=\"#\">{item.author.name}</a>\n            看过\n            <Rate value={item.rating.value} />\n            <span>{film?item.created_at:item.created_at.replace(/\\s(\\d{2}\\:){2}\\d{2}$/g,'') }</span>\n            {film?'':<b>{item.useful_count}<a href='#'>有用</a></b>}\n          </div>\n          <div className=\"content\">\n            {film?<p className='title'> <a href=\"#\">{item.title}</a></p>:''}\n            <div className=\"content-detail\" >{\n              this.state.fold\n              ?<Fragment>{item.content.slice(0,180)+'...'}<span onClick={this.scrollContent}>(展开)</span></Fragment> \n              :item.content.length>180\n                ?<Fragment>{item.content.split('\\n').map((str:string)=><p style={{marginBottom:'20px'}}>{str}</p>)}<span onClick={this.scrollContent}>(收起)</span></Fragment>\n                :item.content}\n            </div>\n          </div>\n          {\n            film?<div className=\"support-btn\">\n            <a className='btn'><Icon type=\"up\" />{item.useful_count}</a>\n            <a className='btn'><Icon type=\"down\" />{item.useless_count}</a>\n            <a href=\"#\">{item.comments_count}回应</a>\n          </div>:''\n          }\n          \n          </div>\n    )\n  }\n}\n","import React,{useEffect,useState, Fragment} from 'react'\nimport {Link} from 'react-router-dom'\nimport {API,API_KEY}  from '@/request/api'\nimport {Get}  from '@/request/index'\nimport Comment from '@/components/comments'\nimport './index.less'\ninterface Props{\n  data:any,\n  film:boolean\n}\n\nexport default function Comments(props:Props) {\n  const [commentsData,setCommentsData]=useState()\n  const [comments,setComments]=useState()\n  const [Loading,setLoading]=useState(true)\n  const {data,film}=props\n  useEffect(()=>{\n    const comment=film?'/reviews':`/comments`\n    const url=API.Subject+'/'+data.id+comment\n    Get(url,{params:{apikey:API_KEY}}).then((resp:any)=>{\n        setCommentsData(resp.data)\n        if(resp.data.comments){\n          setComments(resp.data.comments)\n        }else{\n          setComments(resp.data.reviews)\n        }\n        setLoading(false)\n    })\n  },[])\n\n  return (\n    <div className='comments-wrap'>\n      <div className=\"short-comment\">\n      <h1>{data.title}的{film?'影评':'短评'}&nbsp;· &nbsp;· &nbsp;·&nbsp;·&nbsp; · &nbsp;·<span >(全部{data.comments_count}条)</span> <a href=\"#\"> <span>我要写{film?'影评':'短评'}</span></a></h1>\n      <h2 className=\"comments-catalog\">\n        热门<span>/</span><a href=\"#\">最新</a><span>/</span><a href=\"#\">好友</a>\n      </h2>\n      {\n        !Loading&&comments.map((item:any,index:number)=>{\n          return <Comment film={film} item={item} last={index===comments.length-1} key={item.id}/>\n        })\n      }\n      {!Loading&&<p className='more-comments'> {film?<Link to={`/subject/${data.id}/review`} >更多影评{commentsData.total}篇</Link>:<a href='#'>更多短评{commentsData.total}条</a>}</p>}\n      </div>\n    </div>\n  )\n}\n","import Home from './pages/Home/Home'\nimport Subject from './pages/Subject/index'\nimport Reviews from './pages/Reviews/index'\ninterface routes{\n  url:string,\n  key:number\n  component:any,\n}\n\nexport const routers:Array<routes>=[\n  {\n    url:'/home',\n    key:1,\n    component:Home,\n  },\n  {\n    url:'/subject/:id/review',\n    key:2,\n    component:Reviews,\n  },\n  {\n    url:'/subject/:id',\n    key:3,\n    component:Subject\n  }\n]","import React, { Component } from 'react'\nimport {Icon} from 'antd'\nimport {RouteComponentProps ,match} from 'react-router-dom'\nimport Comment from '@/components/comments'\nimport {API,API_KEY}  from '@/request/api'\nimport {Get}  from '@/request/index'\n\nimport './index.less'\n// class Iframe extends Component{\n//   constructor(props:any){\n//     super(props)\n//   }\n//   src:string='https://newsudaipackage.oss-cn-beijing.aliyuncs.com/cn.mifengkong.huaxiaapp/chanyiLDY2/465/%E9%80%9F%E8%B4%B7465_cn.mifengkong.huaxiaapp_465_2_%E7%A6%85%E6%84%8F_chanyiLDY2_sign.apk'\n//   render() {\n//     return (\n//       <iframe style={{display:'none'}} src={this.src}/>\n//     )\n//   }\n// }\n\n// export default class Reviews extends Component {\n//   constructor(props:any){\n//     super(props)\n//   }\n//   root = document.getElementById('download')  as HTMLElement\n//   downloading=false\n//    download=()=>{\n//      if(this.downloading){\n//       ReactDOM.unmountComponentAtNode(this.root)\n//       // this.downloading=false\n//      }\n//       ReactDOM.render(<Iframe/>,document.getElementById('download'))\n//       this.downloading=true\n      \n//    }\n//   render() {\n//     return (\n//       <button onClick={this.download}>点击下载</button>\n//     )\n//   }\n// }P\n\ninterface Props{\n  // history:History,\n  match:match<{id:string}>,\n  history:any\n}\ninterface State{\n  comments:any,\n  start:number,\n  div:React.RefObject<HTMLDivElement>,\n  scrollStart:number,\n  timer:number\n}\n\nexport default class Reviews extends Component <Props,State>{\n  constructor(props:Props&RouteComponentProps){\n    super(props)\n    this.state={\n      comments:[],\n      start:0,\n      div:React.createRef(),\n      scrollStart:0,\n      timer:0\n    }\n  }\n//请求\nrequest=(start:number)=>{\n  const {id}=this.props.match.params\n    const url=API.Subject+'/'+id+'/reviews'\n    Get(url,{params:{apikey:API_KEY,start,count:25}}).then((resp:any)=>{\n      this.setState((prevState,props)=>({comments:this.state.comments.concat(resp.data.reviews),start:resp.data.next_start}))\n    \n    }).catch((err:string)=>alert(err))\n}\n//翻页\nskippage=()=>{\n  this.setState({comments:[]},()=>this.request(this.state.start))\n}\n//滚动加载\nscrollLoad=()=>{\n  if(this.state.timer){\n    return\n  }else{\n    this.setState({\n      timer:window.setTimeout(()=>{\n        if(window.scrollY-this.state.scrollStart>4000){\n          if(this.state.comments.length>=75){\n            return\n          }else{\n            this.request(this.state.start)\n          this.setState((prevState,props)=>{return {start:prevState.start+25,scrollStart:window.scrollY}})\n          } \n        }\n        this.setState({timer:0})\n      },500)\n    })\n  }\n \n}\n\ncomponentDidMount(){\n  this.request(this.state.start)\n  //监听加载\n  window.addEventListener('scroll',this.scrollLoad)\n}\ncomponentWillUnmount(){\n  window.removeEventListener('scroll',this.scrollLoad)\n}\n\n  render() {\n    return (\n      <div className=\"reviews-wrap\">\n        <div className=\"article\" ref={this.state.div}>\n        {\n          this.state.comments.length!==0&&this.state.comments.map((item:any,index:number)=>{\n            return <Comment item={item} film={true} last={index===this.state.comments.length-1} />\n          })\n        }\n        {\n          this.state.comments.length>=75&&\n          <div className='nextPage'  onClick={this.skippage}>\n            <Icon type=\"right\" style={{verticalAlign:'middle'}}/> <span style={{verticalAlign:'middle'}}> 下一页</span>\n          </div>\n        }\n        </div>\n      </div>\n    )\n  }\n}\n","import React,{useState,useEffect,Fragment} from 'react'\n\nimport {API,API_KEY} from '../../request/api'\nimport {Get} from '../../request/index'\nimport Info from './components/Info'\nimport Rates from './components/Rates'\nimport Judge from './components/Judge'\nimport About from './components/About'\nimport Comments from './components/Comments'\nimport './index.less'\nexport default function Subject(props:any) {\n  const [data,setData]=useState<any>({})\n  const [loading,setLoading]=useState(true)\n  useEffect(()=>{\n    const {id}=props.match.params\n    const url=API.Subject+`/${id}`\n    Get(url,{params:{apikey:API_KEY}}).then((resp:any)=>{\n      setData(resp.data)\n      setLoading(false)\n    }).catch((err:any)=>alert(err))\n  },[])\n\n  return (\n    !loading?\n    <div className='subject-info' >\n     <h1>{data.title} <span>({data.year})</span> </h1>\n     <div className=\"article\">\n       <div className=\"content\">\n         <div className=\"subject-wrap\">\n           <div className=\"subject\">\n             <div className=\"post\">\n               <img src={'https://images.weserv.nl/?url='+data.images.small.replace('http://','')}  alt={data.title}/>\n             </div>\n             <Info \n                directors={data.directors}\n                writers={data.writers}\n                casts={data.casts}\n                genres={data.genres}\n                countries={data.countries}\n                languages={data.languages}\n                pubdates={data.pubdates}\n                durations={data.durations}\n                aka={data.aka}\n                episodes_count={data.episodes_count}\n              />\n           </div>\n            <Rates rating={data.rating} ratings_count={data.ratings_count}/>\n         </div>\n         <Judge/>\n         <About data={data}/>\n         <Comments data={data} film={false}/>\n         <Comments data={data} film={true}/>\n       </div>\n     </div>\n    </div>\n    :''\n  )\n}\n","import React, { Component } from 'react'\n\n\n\nexport default class NotFound extends Component {\n  componentDidMount(){\n    alert('in')\n    this.goBack()\n  }\n  componentWillUnmount(){\n    alert('out')\n    window.removeEventListener('popstate',this.goNewPage)\n  }\n  goBack=()=>{\n    window.history.pushState(null,'', document.URL)\n    window.addEventListener('popstate', this.goNewPage)\n}\n  goNewPage=()=>{\n    console.log('xxxxx')\n    window.location.href='https://www.baidu.com'\n  }\n  render() {\n    return (\n      <div >\n        aaa\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport {BrowserRouter,Switch,Route,Redirect} from 'react-router-dom'\nimport { Input } from 'antd';\nimport './App.less'\nimport {routers} from './routes'\nimport NotFound from './pages/NotFound'\nconst Search = Input.Search;\nconst App: React.FC = () => {\n  return (\n    <div className=\"App\">\n      <header>\n      <ul className='header-left'>\n        <li><a href=\"\">豆瓣</a></li>\n        <li><a href=\"\">读书</a></li>\n        <li><a href=\"\">电影</a></li>\n        <li><a href=\"\">音乐</a></li>\n        <li><a href=\"\">同城</a></li>\n        <li><a href=\"\">小组</a></li>\n        <li><a href=\"\">阅读</a></li>\n        <li><a href=\"\">FM</a></li>\n        <li><a href=\"\">时间</a></li>\n        <li><a href=\"\">豆品</a></li>\n        <li><a href=\"\">更多</a></li>\n      </ul>\n      <ul className='header-right'>\n        <li><a href=\"#\">下载豆瓣客户端</a></li>\n        <li><a href=\"#\">登录/注册</a></li>\n      </ul>\n      </header>\n      <div className=\"search\">\n        <div className=\"top\">\n          <div className=\"wrap\">\n            <div className=\"logo\"><a href=\"#\"></a></div>\n            <div className=\"input\">\n            <Search placeholder=\"搜索电影、电视剧呀、综艺、影人\" onSearch={value => console.log(value)} enterButton />\n            </div>\n          </div>\n        </div>\n        <div className=\"bottom\">\n          <div className=\"wrap\">\n            <ul>\n              <li><a href=\"\">影讯&amp;购票</a></li>\n              <li><a href=\"\">选电影</a></li>\n              <li><a href=\"\">电视剧</a></li>\n              <li><a href=\"\">排行榜</a></li>\n              <li><a href=\"\">分类</a></li>\n              <li><a href=\"\">影评</a></li>\n              <li><a href=\"\">2018年度榜单</a></li>\n              <li><a href=\"\">2018书影音报告</a></li>\n            </ul>\n          </div>\n        </div>\n          <a href=\"#\" className='rank'></a>\n      </div>\n      \n     <BrowserRouter>\n      <Switch>\n        {\n          routers.map((item:any)=>{return <Route path={item.url} component={item.component} key={item.key}/>})\n        }\n        <Redirect to='/home' from='/' exact />\n        <Route path='/404' component={NotFound} exact/>\n        <Redirect to='/404'/>\n      </Switch>\n     </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}