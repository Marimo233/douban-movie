{"version":3,"sources":["assets/short-comment.gif","assets/add-review.jpg","assets/add-doulist.jpg","components/hoverContent/index.tsx","request/api.ts","request/index.tsx","components/movieCard/index.tsx","components/carouselComponent/Arrow/index.tsx","components/carouselComponent/carousel/index.tsx","components/theaterCarousel/index.tsx","components/recommand/index.tsx","pages/Home/Home.tsx","pages/Subject/components/Info/index.tsx","pages/Subject/components/Rates/index.tsx","pages/Subject/components/Judge/index.tsx","pages/Subject/components/About/index.tsx","components/comments/index.tsx","pages/Subject/components/Comments/index.tsx","routes.ts","pages/Reviews/index.tsx","pages/Subject/index.tsx","pages/NotFound/index.tsx","App.tsx","index.tsx"],"names":["module","exports","index","props","detail","isHotList","react_default","a","createElement","className","style","left","pos","x","top","y","title","year","rate_default","disabled","value","Math","round","rating","average","allowHalf","toFixed","concat","collect_count","durations","pubdates","match","join","directors","name","casts","map","i","rate","Number","playable","duration","is_tv","episodes_count","types","item","actors","slice","short_comment","content","author","API","HotShowing","Billbord","HotTitle","Hot","Gallary","Recommand","Card","Subject","API_KEY","window","cancalXHRList","Get","api","params","source","axios","CancelToken","push","create","timeout","cancelToken","token","http","get","withRouter","_ref","Object","esm_extends","card","useRef","Info","_props$index","isgallary","root","document","getElementById","_useState","useState","_useState2","slicedToArray","status","setStatus","_useState3","_useState4","loading","setloading","currentLoading","_useState5","_useState6","timer","setTimer","_useState7","_useState8","setPos","_useState9","_useState10","CardInfo","setCardInfo","useEffect","current","getPosition","getBoundingClientRect","pageXOffset","offsetWidth","pageYOffset","toSubject","id","history","setTimeout","clearTimeout","react","key","src","banner","alt","ref","marginRight","onClick","onMouseEnter","onMouseLeave","images","small","replace","href","fontSize","color","ReactDom","createPortal","hoverContent_index","marginBottom","floor","length","subject_id","then","resp","subject","data","cover","is_new","SlidePreArrow","SlideNextArrow","Carousel","changePage","children","settings","dots","speed","slidesToShow","slidesToScroll","prevArrow","Arrow_SlidePreArrow","nextArrow","Arrow_SlideNextArrow","autoplay","autoplaySpeed","infinite","beforeChange","prevPage","nextPage","lib_default","TheaterCarousel","ishotList","isMovie","page","setPage","list","setList","setTitle","colums","url","apikey","type","tag","page_limit","page_start","_resp$data$subjects","subjects","Array","temp","tags","colNumber","k","kindx","components_movieCard","post","movie_title","rates","Home","BillbordList","setBillbord","data-bid","target","writers","genres","countries","languages","aka","Datamap","link","NumberPanel","details","totalCounts","keys","forEach","domGroup","currRatio","parseFloat","toString","width","Rates","ratings_count","Rates_NumberPanel","Judge","star","setStar","onHoverChange","time","debounceHover","require","About","summary","avatars","trailer_urls","trailers","poster","medium","Comment","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","scrollContent","setState","prevState","fold","state","_this$props","film","last","borderBottom","avatar","created_at","useful_count","split","str","icon_default","useless_count","comments_count","Component","Comments","commentsData","setCommentsData","comments","setComments","Loading","setLoading","comment","reviews","comments_Comment","react_router_dom","to","total","routers","component","Reviews","request","start","count","next_start","catch","err","alert","skippage","scrollLoad","scrollY","scrollStart","div","React","createRef","addEventListener","removeEventListener","_this2","verticalAlign","setData","Info_Info","Rates_Rates","Judge_Judge","About_About","Comments_Comments","NotFound","goBack","pushState","URL","goNewPage","console","log","location","Search","input_default","App","placeholder","onSearch","enterButton","react_router","path","from","exact","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.066e7659.chunk.js","sourcesContent":["module.exports = \"data:image/gif;base64,R0lGODlhCwALAIABAGZmZv///yH5BAEAAAEALAAAAAALAAsAAAIWjI8Hy6BpnINx0kVjsMji/T1cN3ZUAQA7\"","module.exports = \"data:image/jpeg;base64,R0lGODlhCgALAIABAGZmZv///yH5BAEAAAEALAAAAAAKAAsAAAIUjI9pwAqbnkQPnhpwvpT73YFUoxQAOw==\"","module.exports = \"data:image/jpeg;base64,R0lGODlhCAALAIABAGZmZv///yH5BAEAAAEALAAAAAAIAAsAAAIQjI+JAMreDJu0PhlXPledAgA7\"","import React,{Fragment} from 'react'\r\nimport {Rate} from 'antd'\r\n\r\nimport './index.less'\r\n\r\ninterface Props{\r\n  detail:any,\r\n  pos:any,\r\n  isHotList:boolean\r\n}\r\n\r\nexport default function index(props:Props) {\r\n  const {detail,isHotList}=props\r\n  return (\r\n  \r\n    <div className=\"hover-content\" style={{left:props.pos.x+'px',top:props.pos.y+'px'}}>\r\n    {\r\n      isHotList?\r\n      <div className='HotList-Card'>\r\n        <h1>{detail.title} <span>{detail.year}</span></h1>\r\n      <div className=\"hover-rates\">\r\n      <Rate disabled value={Math.round(detail.rating.average)/2} allowHalf /><span>{detail.rating.average.toFixed(1)} <i>{`(${detail.collect_count}人评价)`}</i></span>\r\n      </div>\r\n      <div className=\"time-local\">\r\n        <span>{detail.durations[0]}</span>\r\n        <span>{detail.pubdates[0].match(/[\\u4e00-\\u9fa5]/g).join('')}</span>\r\n      </div>\r\n      <div className=\"directors\">\r\n        导演 <span>{detail.directors[0].name}</span>\r\n      </div>\r\n      <div className=\"casts\">\r\n        演员 <span>{\r\n          detail.casts.map((i:any)=>{return i.name}).join('/')\r\n          }</span>\r\n      </div>\r\n      </div>\r\n      :<div className='Hot-card'>\r\n        <h1>{detail.title}</h1>\r\n        <div className=\"rates\">\r\n        <Rate disabled value={Math.round(detail.rate)/2} allowHalf /><span>{Number(detail.rate).toFixed(1)}</span>\r\n        </div>\r\n        <div className=\"casts\">\r\n          {detail.playable?<span className='special'>可播放</span>:''}\r\n          <span>{detail.duration}</span>\r\n          {detail.is_tv?<span>{detail.episodes_count}集</span>:''}\r\n          {\r\n            detail.types.map((item:string)=>{\r\n              return <span>{item}</span>\r\n            })\r\n          }\r\n          <span>{detail.directors[0]}(导演)</span>\r\n          {\r\n            detail.actors.slice(0,3).map((item:string)=>{\r\n              return <span>{item}</span>\r\n            })\r\n          }\r\n        </div>\r\n        <div className=\"btn-group\">\r\n          <button>在看</button>\r\n          <button>想看</button>\r\n          <button>看过</button>\r\n        </div>\r\n        <div className=\"short_comment\">\r\n          {detail.short_comment.content} <span>-{detail.short_comment.author}</span>\r\n        </div>\r\n      </div>\r\n    }\r\n    </div>\r\n  )\r\n}\r\n","//API\r\nexport const API={\r\n  HotShowing:'/test/movie/in_theaters',\r\n  Billbord:'/test/movie/weekly',\r\n  HotTitle:'/api/search_tags',\r\n  Hot:'/api/search_subjects',\r\n  Gallary:'/rap2/mock/223156/doubanMovie/gallery',\r\n  Recommand:'/rap2/mock/223156/doubanmovie/recommand',\r\n  Card:'/api/subject_abstract',\r\n  Subject:'/test/movie/subject'\r\n}\r\n\r\nexport const API_KEY = \"0b2bdeda43b5688921839c8ecb20399b\";","import axios from \"axios\";\r\n\r\n\r\ndeclare global {\r\n  interface Window {\r\n    cancalXHRList: any\r\n  }\r\n}\r\n\r\nwindow.cancalXHRList = [];\r\n\r\nfunction http() {\r\n  const CancelToken = axios.CancelToken;\r\n  const source = CancelToken.source();\r\n\r\n  window.cancalXHRList.push(source);\r\n\r\n  let instance: any = axios.create({\r\n    timeout: 3e4,\r\n    cancelToken: source.token,\r\n  });\r\n\r\n  return instance;\r\n}\r\nexport const Get=function(api:string,params:any){\r\n  return http().get(api,params)\r\n}","import React ,{Fragment,useState,useEffect,useRef}from 'react'\r\nimport ReactDom from 'react-dom'\r\nimport {withRouter,RouteComponentProps } from 'react-router-dom'\r\nimport {Rate} from 'antd'\r\nimport HoverContent from '../hoverContent'\r\n\r\n\r\nimport {API}  from '../../request/api'\r\nimport {Get} from '../../request'\r\nimport './index.less'\r\n\r\ninterface Props{\r\n  Info:any,\r\n  key:string|number,\r\n  isHotList:boolean,\r\n  index?:number,\r\n  isgallary?:boolean\r\n}\r\ninterface Position{\r\n  x:number,\r\n  y:number\r\n}\r\n\r\nconst MovieCard:React.FC<Props&RouteComponentProps>=({...props})=> {\r\n\r\n  const card=useRef<HTMLDivElement>(null)\r\n  const {Info,isHotList,index=0,isgallary}=props\r\n  const root = document.getElementById('root')  as HTMLElement\r\n  const [status,setStatus]=useState(false)\r\n  const [loading,setloading]=useState(false)\r\n  const currentLoading = useRef(loading)\r\n  const [timer,setTimer]=useState(false)\r\n  const [pos,setPos]=useState<Position>({x:0,y:0})\r\n  const [CardInfo,setCardInfo]=useState<Array<any>>([])\r\n  useEffect(()=>{currentLoading.current=loading})\r\n    //获取位置\r\nconst getPosition=()=>{\r\n  if(card.current){\r\n    const x=card.current.getBoundingClientRect().left+window.pageXOffset+card.current.offsetWidth+5;\r\n    const y=card.current.getBoundingClientRect().top+window.pageYOffset;\r\n    setPos({x,y})\r\n  }\r\n  \r\n}\r\n//请求Card数据\r\nconst requestCard=(id:string)=>{\r\n  getPosition()\r\n  if(CardInfo.length){\r\n    setStatus(true)\r\n    return\r\n  }else{\r\n    setloading(true)\r\n    Get(API.Card,{params:{subject_id:id}}).then((resp:any)=>{\r\n      if(!currentLoading.current){\r\n        return\r\n      }\r\n      const {subject}=resp.data\r\n      CardInfo.push(subject)\r\n      setCardInfo(CardInfo)\r\n      setStatus(true)\r\n    })\r\n  }\r\n  \r\n}\r\n//跳转详情页\r\nconst toSubject=(id:string|number)=>{\r\n  props.history.push(`/subject/${id}`)\r\n}\r\n  useEffect(()=>{\r\n    let timeout:any\r\n    if(timer){\r\n       timeout=setTimeout(()=>{\r\n        getPosition()\r\n        setStatus(true)},800)\r\n    }else{\r\n      setStatus(false)\r\n    }\r\n    return ()=>{clearTimeout(timeout)}\r\n  },[timer])\r\n  return (\r\n    <Fragment>{\r\n    //评论\r\n    isgallary?\r\n      <div key={Info.id} className='gallary-wrap'>\r\n        <div className=\"gallary-img\">\r\n          <img src={Info.banner} alt=\"\"/>\r\n        </div>\r\n        <div className='gallary-content'>\r\n          <p className='gallary-title'>{Info.title}</p>\r\n          <p className=\"gallary-detail\">{Info.content}</p>\r\n        </div>\r\n      </div>\r\n      //正在上映\r\n    :isHotList?\r\n    <div key={Info.id} className='post-wrap' ref={card} style={{marginRight:(index+1)%5!==0?'25px':''}} onClick={()=>{toSubject(Info.id)}}>\r\n        <div className='theaterPost' onMouseEnter={()=>{setTimer(true)}} onMouseLeave={()=>{setTimer(false)}}>\r\n          <img src={'https://images.weserv.nl/?url='+Info.images.small.replace('https://','')} alt={Info.title}/>\r\n        </div>\r\n        <h1><a href='javascript:void(0)'>{Info.title}</a></h1>\r\n        <div className=\"rates\">{\r\n          Info.rating.average===0\r\n          ? <span style={{fontSize:'12px',color:'#333'}}>暂无评分</span>\r\n          :<Fragment>\r\n            <Rate disabled value={Math.round(Info.rating.average)/2} allowHalf/>\r\n            <span>{Info.rating.average.toFixed(1)}</span>\r\n          </Fragment>\r\n        }\r\n        </div>\r\n      {\r\n        status?\r\n        ReactDom.createPortal(<HoverContent detail={Info} pos={pos} isHotList={isHotList}/>,root)\r\n        :null\r\n      }\r\n      <button><a href={`https://maoyan.com/query?kw=${Info.title}`}>选座购票</a></button>\r\n    </div>\r\n    //热门\r\n    :<div className='list-wrap' style={{marginRight:(index+1)%5!==0?'25px':'',marginBottom:Math.floor(index/5)===0?'10px':''}} ref={card} onClick={()=>{toSubject(Info.id)}}>\r\n      <div className=\"listPost\" onMouseEnter={()=>{requestCard(Info.id)}} onMouseLeave={()=>{return(setStatus(false),setloading(false))}}>\r\n        <img src={Info.cover} alt={Info.title}/>\r\n      </div>\r\n      <p className=\"listTitle\">\r\n        {Info.is_new?<i/>:''}\r\n        {Info.title}\r\n        <strong>{Info.rate}</strong>\r\n      </p>\r\n      {\r\n        status?\r\n          ReactDom.createPortal(<HoverContent detail={CardInfo[0]} pos={pos} isHotList={isHotList}/>,root)\r\n          :null\r\n        }\r\n    </div>\r\n  }\r\n  </Fragment>\r\n \r\n  )\r\n}\r\nexport default withRouter(MovieCard)","import React from 'react'\r\n\r\nimport './index.less'\r\n\r\ninterface arrowProps{\r\n  Name?:string\r\n  onClick?:any,\r\n  isHotList:boolean\r\n}\r\n\r\n//箭头前切换\r\nconst SlidePreArrow=(props:arrowProps)=>{\r\n  const {onClick,isHotList}=props\r\n  \r\n  return (\r\n    <div className={isHotList?'prevArrow-wrap-list':'prevArrow-wrap'} onClick={onClick}>\r\n      <a href=\"javascript:void(0)\" className='prev-btn switch-btn'></a>\r\n  </div>\r\n  )\r\n}\r\n//箭头后切换\r\nconst SlideNextArrow=(props:arrowProps)=>{\r\n  const {onClick,isHotList}=props\r\n  return (\r\n    <div className={isHotList?'nextArrow-wrap-list':'nextArrow-wrap'} onClick={onClick} >\r\n      <a href=\"javascript:void(0)\" className='next-btn switch-btn'></a>\r\n  </div>\r\n  )\r\n}\r\nexport{SlidePreArrow,SlideNextArrow}","import React from 'react'\r\nimport Slider from \"react-slick\";\r\n\r\nimport './index.less'\r\nimport {SlideNextArrow,SlidePreArrow} from '../Arrow'\r\n\r\ninterface  sliderSetting{\r\n  dots:boolean,\r\n  speed:number,\r\n  slidesToShow:number,\r\n  slidesToScroll:number,\r\n  nextArrow: any,\r\n  prevArrow:any,\r\n  beforeChange:any,\r\n  autoplay:boolean,\r\n  autoplaySpeed:number,\r\n  infinite: boolean\r\n}\r\n\r\ninterface Props{\r\n  changePage?:any,\r\n  children:any,\r\n  isHotList:boolean\r\n}\r\nexport default function Carousel(props:Props) {\r\nconst {changePage,isHotList,children}=props\r\nconst settings:sliderSetting = {\r\n  dots: !isHotList,\r\n  speed: 1500,\r\n  slidesToShow:1,\r\n  slidesToScroll:1,\r\n  prevArrow:<SlidePreArrow isHotList={isHotList}/>,\r\n  nextArrow: <SlideNextArrow isHotList={isHotList} />,\r\n  autoplay:true,\r\n  autoplaySpeed:6000,\r\n  infinite: true,\r\n  beforeChange:(prevPage:number,nextPage:number):void=>{\r\n    if(changePage){\r\n      changePage(nextPage+1)\r\n    }\r\n    }\r\n};\r\n  return(\r\n    <div>\r\n      <Slider {...settings}>\r\n        {children}\r\n      </Slider>\r\n    </div>\r\n  )\r\n}\r\n","import React,{useState,useEffect,Fragment} from 'react'\r\n\r\nimport './index.less'\r\nimport MovieCard from '../movieCard'\r\nimport Carousel from '../carouselComponent/carousel'\r\nimport {API,API_KEY}  from '../../request/api'\r\nimport {Get} from '../../request'\r\ninterface Props{\r\n  ishotList:boolean,\r\n  isMovie?:boolean,\r\n  title?:any,\r\n  isgallary?:boolean\r\n}\r\n\r\n\r\nexport default function TheaterCarousel(props:Props) {\r\n  const {ishotList,isMovie,isgallary}=props\r\n  let [page,setPage]=useState(1)\r\n  let [list,setList]=useState<Array<any>>([])\r\n  let [title,setTitle]=useState([])\r\n  const colums=ishotList?(isgallary?1:5):10\r\n  //请求轮播图\r\n  useEffect(()=>{\r\n    const url=ishotList?\r\n              isgallary?API.Gallary:API.HotShowing\r\n              :API.Hot\r\n    const param=ishotList?isgallary?{}:{params:{apikey: API_KEY}}\r\n                :{\r\n                  params:{\r\n                    type: isMovie?'movie':'tv',\r\n                    tag: '热门',\r\n                    page_limit: 50,\r\n                    page_start: 0\r\n                  }\r\n                }\r\n    Get(url,param).then((resp:any)=>{\r\n      const {subjects=Array(20)}=resp.data\r\n      let temp=[];\r\n    for(let i=0;i<subjects.length;i+=colums){\r\n      temp.push(subjects.slice(i,i+colums))\r\n    }\r\n    setList(temp)\r\n    })\r\n  },[])\r\n//请求标题\r\n  useEffect(()=>{\r\n    const url=API.HotTitle\r\n    const param={\r\n      params:{\r\n        type: isMovie?'movie':'tv',\r\n        tag: '热门',\r\n        source:'index'\r\n      }\r\n    }\r\n  Get(url,param).then((resp:any)=>{\r\n    const {tags}=resp.data\r\n    setTitle(tags)\r\n  })\r\n  },[])\r\n  // 页数指示器切换\r\n  const changePage=(page:number):void=>{\r\n    setPage(page)\r\n  }\r\n\r\nconst colNumber:number=list.length\r\n  return (\r\n       <div className=\"theaterContainer\">\r\n         <div className=\"carousel-title\">\r\n           {\r\n            ishotList\r\n            ?<div className=\"theaterContainer-head\">\r\n              {\r\n                isgallary\r\n                  ? <b>热门推荐</b>\r\n                 :<Fragment>\r\n                   <b>正在热映</b><a>全部正在热映»</a><a>即将上映»</a>\r\n                 </Fragment>\r\n              }\r\n              <i>{page}<span>/</span>{colNumber}</i>  \r\n            </div>\r\n            :<div className=\"hot-title\">\r\n              {isMovie?<b>最近热门电影</b>:<b>最近热门电视剧</b>}\r\n              <ul>\r\n                {\r\n                  title.map((item:any,index:number)=>{\r\n                    return <li key={item} className={index===0?'active-li':''}>{item}</li>\r\n                  })\r\n                }\r\n              </ul>\r\n              <a href=\"#\">更多»</a>\r\n          </div>\r\n           }\r\n         </div>\r\n          {list.length>0&& <Carousel changePage={changePage} isHotList={ishotList}>\r\n           {\r\n             list.map((item:any,index:number)=>{\r\n               return(\r\n                 <div key={index}>\r\n                   <div className='theaterContainer-wrap' >\r\n                   {\r\n                     item.map((k:any,kindx:number)=>{\r\n                       return <MovieCard Info={k} isHotList={ishotList} key={k.id} index={kindx} isgallary={isgallary}/>\r\n                     })\r\n                   }\r\n                   </div>\r\n                 </div>\r\n               )\r\n             })\r\n           }\r\n         </Carousel>}\r\n      </div>\r\n  )\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport {Rate} from 'antd'\r\n\r\nimport './index.less'\r\nimport {API,API_KEY}  from '../../request/api'\r\nimport {Get} from '../../request'\r\nexport default function Recommand() {\r\n  let [list,setList]=useState<Array<any>>([])\r\n  useEffect(()=>{\r\n    const url=API.Recommand\r\n    Get(url,{params:{apikey:API_KEY}}).then((resp:any)=>{\r\n      const {data}=resp.data\r\n      setList(data)\r\n    })\r\n  },[])\r\n  return (\r\n    <div className='recommand-wrap'>\r\n      <div className=\"recommand-title\">\r\n        <b>最受欢迎的影评</b>\r\n        <a href=\"#\">更多热门影评</a>\r\n        <a href=\"#\">新片影评</a>\r\n      </div>\r\n      {\r\n        list.map((item)=>{\r\n          return  <div className=\"recommand-content\">\r\n          <div className=\"recommand-post\">\r\n            <img src={item.post} alt={item.title}/>\r\n          </div>\r\n          <div className=\"recommand-detail\">\r\n            <div className=\"recommand-detail-title\">\r\n              {item.title}\r\n            </div>\r\n            <p className=\"user\">\r\n              {item.name}\r\n              <span>评论</span>\r\n              <i>\r\n              {item.movie_title}\r\n              </i>\r\n              <Rate value={Math.round(item.rates)/2} disabled allowHalf/>\r\n            </p>\r\n            <p className='recommand-detail-word'>\r\n              {item.detail}\r\n              <a href=\"#\">(全文)</a>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        })\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React,{useState, useEffect} from 'react'\r\n\r\n\r\nimport './index.less'\r\nimport TheaterCarousel from '../../components/theaterCarousel'\r\nimport Recommand from '../../components/recommand'\r\n\r\nimport {API,API_KEY}  from '../../request/api'\r\nimport {Get} from '../../request'\r\n\r\nconst Home:React.FC=(props:any)=> {\r\nlet [BillbordList,setBillbord]=useState<Array<any>>([])\r\n//口碑\r\nuseEffect(()=>{\r\n  const url=API.Billbord\r\n  Get(url,{params:{apikey: API_KEY}}).then((resp:any)=>{\r\n    setBillbord(resp.data.subjects)\r\n  })\r\n},[])\r\n  return (\r\n    <div>\r\n      <div className=\"content\">\r\n        <div className=\"wrap\">\r\n          <div className=\"content-left\">\r\n            <TheaterCarousel ishotList={true} isgallary={false}/>\r\n            <TheaterCarousel  ishotList={false} isMovie={true}/>\r\n            <TheaterCarousel ishotList={false} isMovie={false}/>\r\n            <TheaterCarousel ishotList={true} isgallary={true}/>\r\n            <Recommand />\r\n          </div>\r\n          <div className=\"content-right\">\r\n            <div className=\"answer\">\r\n              <a href=\"#\">豆瓣电影评分八问</a>\r\n            </div>\r\n            <div className=\"movie-activity\">\r\n                <div className=\"activity-title\">\r\n                  电影活动 &nbsp; · &nbsp;·&nbsp; ·&nbsp; ·&nbsp; · &nbsp;· \r\n                </div>\r\n                <ul>\r\n                  <li>\r\n                  <a href=\"https://www.douban.com/doubanapp/dispatch?uri=/niffler/column/157\" data-bid=\"2746\" target=\"_blank\">电影声音的魔盒 | 好莱坞声音设计大师课</a>\r\n                </li>\r\n                <li>\r\n                   <a href=\"https://bizpage.douban.com/hollywood-producer/\" data-bid=\"2735\" target=\"_blank\">招募 | 好莱坞制片人电影商务交流之旅</a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"billboard\">\r\n              <h2>一周口碑榜 <a href=\"#\">更多榜单»</a></h2>\r\n              <ul>\r\n                {\r\n                  BillbordList.map((item,index)=>{\r\n                    const {subject}=item\r\n                    return(\r\n                      <li>\r\n                      <span>{index+1}</span><a href={subject.alt}>{subject.title}</a></li>\r\n                    )\r\n                  })\r\n                }\r\n              </ul>\r\n            </div>\r\n            <div id=\"doulist\">\r\n              <h2>热门豆列</h2>\r\n                <ul>\r\n                    <li>\r\n                    <span>15推荐</span>\r\n                    <div className=\"title\"><a target=\"_blank\" href=\"https://www.douban.com/doulist/2540888/\">小众迷你罪案剧</a></div>\r\n                    </li>\r\n                    <li>\r\n                    <span>15推荐</span>\r\n                    <div className=\"title\"><a target=\"_blank\" href=\"https://www.douban.com/doulist/1545747/\">这些年，我看过的les片(不断更新中）</a></div>\r\n                    </li>\r\n                  </ul>\r\n            </div>\r\n            <div className=\"contact-and-cooperation\">\r\n              <h2>合作联系</h2>\r\n              <ul>\r\n                    <li>电影合作邮箱：<img src=\"https://img3.doubanio.com/f/movie/c858df348b4d199c848774ed1b3ed529052f0fa1/pics/movie/email_movie.png\"/></li>\r\n                    <li>电视剧合作邮箱：\r\n                        <img src=\"https://img3.doubanio.com/f/movie/4de38ce91fdad7bcf3246c2594c84fa800eba08a/pics/movie/email_tv.png\"/>\r\n                        <img src=\"https://img3.doubanio.com/f/shire/486503da8c82ffdbecec41c065927f96cbf02e4f/pics/icon/ic_new.png\" className=\"new\"/>\r\n                    </li>\r\n                    <li>豆瓣影人PRO合作邮箱：<img src=\"https://img3.doubanio.com/f/movie/51a921a21ca8b612d586d37d3eb122e583a20d67/pics/movie/email_pro.png\"/></li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"contact-mod\">\r\n              <h2>关注我们</h2>\r\n              <ul className=\"embassy-list clearfix\">\r\n                  <li>\r\n                      <a href=\"https://weibo.com/doubanfilm\" target=\"_blank\" className=\"icon-embassy-weibo\"></a>\r\n                      <a href=\"https://weibo.com/doubanfilm\" target=\"_blank\" className=\"primary-link\">微博</a>\r\n                  </li>\r\n                  <li>\r\n                      <a className=\"icon-embassy-weixin\">\r\n                          <div className=\"hover\"><img src=\"https://img3.doubanio.com/f/movie/2e2ea342f4f4590300de32c5f30a9184176b3541/pics/movie/home_wechat_qrcode@2x.jpg\"/></div>\r\n                      </a>\r\n                      <a className=\"primary-link\" href=\"javascript:;\">微信</a>\r\n                  </li>\r\n                  <li>\r\n                      <a href=\"https://weibo.com/doubanzui\" target=\"_blank\" className=\"icon-embassy-bite-me\"></a>\r\n                      <a href=\"https://weibo.com/doubanzui\" target=\"_blank\" className=\"primary-link\">瓣嘴</a>\r\n                  </li>\r\n                  <li>\r\n                      <a href=\"https://www.douban.com/people/186015655/\" target=\"_blank\" className=\"icon-embassy-film-pro\"></a>\r\n                      <a href=\"https://www.douban.com/people/186015655/\" target=\"_blank\" className=\"primary-link\">豆瓣影人PRO</a>\r\n                  </li>\r\n                  <li>\r\n                      <a href=\"https://www.douban.com/people/nobodyfilm/\" target=\"_blank\" className=\"icon-embassy-club-site\"></a>\r\n                      <a href=\"https://www.douban.com/people/nobodyfilm/\" target=\"_blank\" className=\"primary-link\">观影club</a>\r\n                  </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Home\r\n\r\n","import React,{Fragment} from 'react'\r\n\r\nimport './index.less'\r\n\r\ninterface Props{\r\n  directors:any,\r\n  writers:any,\r\n  casts:any,\r\n  genres:any,\r\n  countries:any,\r\n  languages:any,\r\n  pubdates:any,\r\n  durations:string,\r\n  aka:any,\r\n  episodes_count:string\r\n}\r\n\r\nexport default function Info(props:Props) {\r\n  const {directors,writers,casts,genres,countries,languages,pubdates,durations,aka,episodes_count}=props\r\n\r\n  const Datamap=(data:any,link:boolean)=>{\r\n    return data.map((item:any,index:number)=>{\r\n      return<Fragment>\r\n            {index===0?'':<span>/</span>}\r\n            {link?<a href={item.alt} key={item.id}>{item.name}</a>:<span>{item}</span>}\r\n        </Fragment>\r\n    })\r\n}\r\n  return (\r\n    <div className=\"info\">\r\n    <p>导演：{Datamap(directors,true)}</p>\r\n    <p>编剧：{Datamap(writers,true)}</p>\r\n    <p>演员：{Datamap(casts,true)}</p>\r\n    <p>类型：{Datamap(genres,false)}</p>\r\n    <p>制片国家/地区：{Datamap(countries,false)}</p>\r\n    <p>语言：{Datamap(languages,false)}</p>\r\n    <p>上映日期：{Datamap(pubdates,false)}</p>\r\n    {\r\n      episodes_count?<p>集数：{episodes_count}</p>:''\r\n    }\r\n    <p>片长：{Datamap(durations,false)}</p>\r\n    {\r\n      aka.length?<p>又名：{Datamap(aka,false)}</p>:''\r\n    }\r\n </div>\r\n  )\r\n}\r\n","import React,{Fragment} from 'react'\r\nimport {Rate} from 'antd'\r\n\r\nimport './index.less'\r\n\r\ninterface Props{\r\n  rating:any,\r\n  ratings_count:number\r\n}\r\nconst NumberPanel=(props:any)=>{\r\n  const {details}=props\r\n  let totalCounts=0\r\n  Object.keys(details).forEach((item:string)=>{\r\n    totalCounts+=details[item]\r\n  })\r\n  let domGroup=[]\r\nfor(let i=5;i>0;i--){\r\n  let currRatio = parseFloat((details[i] * 100 / totalCounts).toString()).toFixed(1)\r\n  let temp= \r\n         <div className='number-detail' key={i}>\r\n          <span className='star-num'>{i}星</span>\r\n          <span className='star-power' style={{ width: `${currRatio}px` }}></span>\r\n          <span className='star-num'>{currRatio}%</span>\r\n        </div>\r\n  domGroup.push(temp)\r\n}\r\nreturn <Fragment>{domGroup}</Fragment> \r\n}\r\nexport default function Rates(props:Props) {\r\n  const {rating,ratings_count}=props\r\n  return (\r\n    <div className=\"subject-rates\">\r\n      <h4>豆瓣评分</h4>\r\n      <div className=\"rate-top\">\r\n      <div className=\"rates\">\r\n        <div className=\"average\">\r\n          {rating.average===0?'':rating.average.toFixed(1)}\r\n        </div>\r\n        <div className=\"detail\">\r\n          <Rate value={Math.round(rating.average)/2} allowHalf disabled/>\r\n          <p>{rating.average===0?'暂无评价':`已有${ratings_count}人评价`}</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"rate-number\">{\r\n          rating.average===0?'' :<NumberPanel details={rating.details}/>\r\n        }\r\n        </div>\r\n      </div>\r\n      <div className=\"rate-bottom\">\r\n        <p>好于<span>88%的科幻片</span></p>\r\n        <p>好于<span>91%的动作片</span></p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React ,{useState}from 'react'\r\nimport {Rate} from 'antd'\r\nimport './index.less'\r\n\r\n\r\nexport default function Judge() {\r\n  const [star,setStar]=useState(0)\r\n  let [timer,setTimer]=useState(0)\r\n  const desc=['很差', '较差','还行','推荐','力荐']\r\n  const debounceHover=(value:number,time:number)=>{\r\n      if(value){\r\n        if(timer){\r\n          clearTimeout(timer)\r\n        }\r\n        setTimer(window.setTimeout(()=>{setStar(value)},time))\r\n      }\r\n  }\r\n  return (\r\n    <div className=\"judge-wrap\">\r\n     <div className=\"judge-top\">\r\n        <button>想看</button>\r\n        <button>看过</button>\r\n        <span>\r\n        评价:&nbsp;&nbsp;&nbsp;\r\n        </span>\r\n        <Rate value={star}  onHoverChange={(value)=>{debounceHover(value,200)}}/>\r\n        <span>\r\n          {desc[star-1]}\r\n        </span>\r\n     </div>\r\n      <div className='judge-bottom' >\r\n          <span ><img src={require(\"@/assets/short-comment.gif\")} />&nbsp;<a href=\"#\">写短评</a></span>\r\n          <span><img src={require(\"@/assets/add-review.jpg\")} />&nbsp;<a href=\"#\">写影评</a></span>\r\n          <span><img src={require(\"@/assets/add-doulist.jpg\")} />&nbsp;<a href=\"#\">提问题</a></span>\r\n          <a href=\"#\">分享到</a>\r\n      </div>\r\n      \r\n  </div> \r\n  )\r\n}\r\n","import React,{Fragment} from 'react'\r\n\r\nimport './index.less'\r\n\r\ninterface Props{\r\n  data:any\r\n}\r\n\r\nexport default function About(props:Props) {\r\n  const {data}=props\r\n  return (\r\n    data&&\r\n    <div className='subject-about'>\r\n      <div className=\"subject-brief\">\r\n           <h1>{data.title}的剧情简介&nbsp;· &nbsp;· &nbsp;·&nbsp;·&nbsp; · &nbsp;·</h1>\r\n           <p>\r\n             {data.summary}\r\n           </p>\r\n      </div>\r\n         <div className=\"subject-casts\">\r\n         <h1>{data.title}的演职员&nbsp;· &nbsp;· &nbsp;·&nbsp;·&nbsp; · &nbsp;·<a href=\"#\">全部：({data.directors.length+data.casts.length})</a></h1>\r\n         <div className=\"casts-img\">\r\n           {data.directors.map((item:any)=>{\r\n             return <dl>\r\n                <dt><img src={'https://images.weserv.nl/?url='+item.avatars.small.replace('http://','')} alt={item.name}/></dt>\r\n                <dd>{item.name}</dd>\r\n                <p>导演</p>\r\n             </dl>\r\n           })}\r\n           {data.casts.map((item:any)=>{\r\n             return <dl>\r\n                <dt><img src={'https://images.weserv.nl/?url='+item.avatars.small.replace('http://','')} alt={item.name}/></dt>\r\n                <dd>{item.name}</dd>\r\n                <p>演员</p>\r\n             </dl>\r\n           })}\r\n         </div>\r\n        </div>\r\n        <div className=\"subject-trailer\">\r\n          <h1>{data.title}的视频和图片\r\n              <ul>\r\n                <li><a href=\"#\">（&nbsp;预告片{data.trailer_urls.length}</a></li><i>|</i>\r\n                <li><a href=\"#\">添加视频评论</a></li><i>|</i>\r\n                <li><a href=\"#\">图片{data.trailers.length} <span> &nbsp;·&nbsp; </span>添加&nbsp;{')'}</a>&nbsp;</li>\r\n              </ul>\r\n          </h1>\r\n          <ul>\r\n            <li className='videoLi'><video src={data.trailer_urls} poster={data.trailers[0].medium}></video><span>预告片</span></li>\r\n            {\r\n              data.trailers.map((item:any)=>{\r\n                  return <li><img src={item.medium} alt=\"\"/></li>\r\n              })\r\n            }\r\n          </ul>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { Component,Fragment } from 'react'\r\nimport {Rate,Icon} from 'antd'\r\nimport './index.less'\r\n\r\ninterface Props{\r\n  item:any,\r\n  film:boolean,\r\n  last:boolean\r\n}\r\ninterface State{\r\n  fold:boolean\r\n}\r\n\r\nexport default class Comment extends Component <Props,State>{\r\n  constructor(props:Props){\r\n    super(props)\r\n    this.state={\r\n      fold:props.item.content.length>180\r\n    }\r\n  }\r\n scrollContent=()=>{\r\n   this.setState((prevState,props)=>({fold:!prevState.fold}))\r\n}\r\n  render() {\r\n    const {item,film,last}=this.props\r\n    return (\r\n      <div className=\"comment\" key={item.id} style={{borderBottom:last?'none':'1px solid rgba(221,221,221,0.5)'}}>\r\n          <div className=\"top\">\r\n           { film?<img src={item.author.avatar} alt=\"\"/>:''}\r\n            <a href=\"#\">{item.author.name}</a>\r\n            看过\r\n            <Rate value={item.rating.value} />\r\n            <span>{film?item.created_at:item.created_at.replace(/\\s(\\d{2}\\:){2}\\d{2}$/g,'') }</span>\r\n            {film?'':<b>{item.useful_count}<a href='#'>有用</a></b>}\r\n          </div>\r\n          <div className=\"content\">\r\n            {film?<p className='title'> <a href=\"#\">{item.title}</a></p>:''}\r\n            <div className=\"content-detail\" >{\r\n              this.state.fold\r\n              ?<Fragment>{item.content.slice(0,180)+'...'}<span onClick={this.scrollContent}>(展开)</span></Fragment> \r\n              :item.content.length>180\r\n                ?<Fragment>{item.content.split('\\n').map((str:string)=><p style={{marginBottom:'20px'}}>{str}</p>)}<span onClick={this.scrollContent}>(收起)</span></Fragment>\r\n                :item.content}\r\n            </div>\r\n          </div>\r\n          {\r\n            film?<div className=\"support-btn\">\r\n            <a className='btn'><Icon type=\"up\" />{item.useful_count}</a>\r\n            <a className='btn'><Icon type=\"down\" />{item.useless_count}</a>\r\n            <a href=\"#\">{item.comments_count}回应</a>\r\n          </div>:''\r\n          }\r\n          \r\n          </div>\r\n    )\r\n  }\r\n}\r\n","import React,{useEffect,useState, Fragment} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {API,API_KEY}  from '@/request/api'\r\nimport {Get}  from '@/request/index'\r\nimport Comment from '@/components/comments'\r\nimport './index.less'\r\ninterface Props{\r\n  data:any,\r\n  film:boolean\r\n}\r\n\r\nexport default function Comments(props:Props) {\r\n  const [commentsData,setCommentsData]=useState()\r\n  const [comments,setComments]=useState()\r\n  const [Loading,setLoading]=useState(true)\r\n  const {data,film}=props\r\n  useEffect(()=>{\r\n    const comment=film?'/reviews':`/comments`\r\n    const url=API.Subject+'/'+data.id+comment\r\n    Get(url,{params:{apikey:API_KEY}}).then((resp:any)=>{\r\n        setCommentsData(resp.data)\r\n        if(resp.data.comments){\r\n          setComments(resp.data.comments)\r\n        }else{\r\n          setComments(resp.data.reviews)\r\n        }\r\n        setLoading(false)\r\n    })\r\n  },[])\r\n\r\n  return (\r\n    <div className='comments-wrap'>\r\n      <div className=\"short-comment\">\r\n      <h1>{data.title}的{film?'影评':'短评'}&nbsp;· &nbsp;· &nbsp;·&nbsp;·&nbsp; · &nbsp;·<span >(全部{data.comments_count}条)</span> <a href=\"#\"> <span>我要写{film?'影评':'短评'}</span></a></h1>\r\n      <h2 className=\"comments-catalog\">\r\n        热门<span>/</span><a href=\"#\">最新</a><span>/</span><a href=\"#\">好友</a>\r\n      </h2>\r\n      {\r\n        !Loading&&comments.map((item:any,index:number)=>{\r\n          return <Comment film={film} item={item} last={index===comments.length-1} key={item.id}/>\r\n        })\r\n      }\r\n      {!Loading&&<p className='more-comments'> {film?<Link to={`/subject/${data.id}/review`} >更多影评{commentsData.total}篇</Link>:<a href='#'>更多短评{commentsData.total}条</a>}</p>}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import Home from './pages/Home/Home'\r\nimport Subject from './pages/Subject/index'\r\nimport Reviews from './pages/Reviews/index'\r\ninterface routes{\r\n  url:string,\r\n  key:number\r\n  component:any,\r\n}\r\n\r\nexport const routers:Array<routes>=[\r\n  {\r\n    url:'/home',\r\n    key:1,\r\n    component:Home,\r\n  },\r\n  {\r\n    url:'/subject/:id/review',\r\n    key:2,\r\n    component:Reviews,\r\n  },\r\n  {\r\n    url:'/subject/:id',\r\n    key:3,\r\n    component:Subject\r\n  }\r\n]","import React, { Component } from 'react'\r\nimport {Icon} from 'antd'\r\nimport {RouteComponentProps ,match} from 'react-router-dom'\r\nimport Comment from '@/components/comments'\r\nimport {API,API_KEY}  from '@/request/api'\r\nimport {Get}  from '@/request/index'\r\n\r\nimport './index.less'\r\n// class Iframe extends Component{\r\n//   constructor(props:any){\r\n//     super(props)\r\n//   }\r\n//   src:string='https://newsudaipackage.oss-cn-beijing.aliyuncs.com/cn.mifengkong.huaxiaapp/chanyiLDY2/465/%E9%80%9F%E8%B4%B7465_cn.mifengkong.huaxiaapp_465_2_%E7%A6%85%E6%84%8F_chanyiLDY2_sign.apk'\r\n//   render() {\r\n//     return (\r\n//       <iframe style={{display:'none'}} src={this.src}/>\r\n//     )\r\n//   }\r\n// }\r\n\r\n// export default class Reviews extends Component {\r\n//   constructor(props:any){\r\n//     super(props)\r\n//   }\r\n//   root = document.getElementById('download')  as HTMLElement\r\n//   downloading=false\r\n//    download=()=>{\r\n//      if(this.downloading){\r\n//       ReactDOM.unmountComponentAtNode(this.root)\r\n//       // this.downloading=false\r\n//      }\r\n//       ReactDOM.render(<Iframe/>,document.getElementById('download'))\r\n//       this.downloading=true\r\n      \r\n//    }\r\n//   render() {\r\n//     return (\r\n//       <button onClick={this.download}>点击下载</button>\r\n//     )\r\n//   }\r\n// }P\r\n\r\ninterface Props{\r\n  // history:History,\r\n  match:match<{id:string}>,\r\n  history:any\r\n}\r\ninterface State{\r\n  comments:any,\r\n  start:number,\r\n  div:React.RefObject<HTMLDivElement>,\r\n  scrollStart:number,\r\n  timer:number\r\n}\r\n\r\nexport default class Reviews extends Component <Props,State>{\r\n  constructor(props:Props&RouteComponentProps){\r\n    super(props)\r\n    this.state={\r\n      comments:[],\r\n      start:0,\r\n      div:React.createRef(),\r\n      scrollStart:0,\r\n      timer:0\r\n    }\r\n  }\r\n//请求\r\nrequest=(start:number)=>{\r\n  const {id}=this.props.match.params\r\n    const url=API.Subject+'/'+id+'/reviews'\r\n    Get(url,{params:{apikey:API_KEY,start,count:25}}).then((resp:any)=>{\r\n      this.setState((prevState,props)=>({comments:this.state.comments.concat(resp.data.reviews),start:resp.data.next_start}))\r\n    \r\n    }).catch((err:string)=>alert(err))\r\n}\r\n//翻页\r\nskippage=()=>{\r\n  this.setState({comments:[]},()=>this.request(this.state.start))\r\n}\r\n//滚动加载\r\nscrollLoad=()=>{\r\n  if(this.state.timer){\r\n    return\r\n  }else{\r\n    this.setState({\r\n      timer:window.setTimeout(()=>{\r\n        if(window.scrollY-this.state.scrollStart>4000){\r\n          if(this.state.comments.length>=75){\r\n            return\r\n          }else{\r\n            this.request(this.state.start)\r\n          this.setState((prevState,props)=>{return {start:prevState.start+25,scrollStart:window.scrollY}})\r\n          } \r\n        }\r\n        this.setState({timer:0})\r\n      },500)\r\n    })\r\n  }\r\n \r\n}\r\n\r\ncomponentDidMount(){\r\n  this.request(this.state.start)\r\n  //监听加载\r\n  window.addEventListener('scroll',this.scrollLoad)\r\n}\r\ncomponentWillUnmount(){\r\n  window.removeEventListener('scroll',this.scrollLoad)\r\n}\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"reviews-wrap\">\r\n        <div className=\"article\" ref={this.state.div}>\r\n        {\r\n          this.state.comments.length!==0&&this.state.comments.map((item:any,index:number)=>{\r\n            return <Comment item={item} film={true} last={index===this.state.comments.length-1} />\r\n          })\r\n        }\r\n        {\r\n          this.state.comments.length>=75&&\r\n          <div className='nextPage'  onClick={this.skippage}>\r\n            <Icon type=\"right\" style={{verticalAlign:'middle'}}/> <span style={{verticalAlign:'middle'}}> 下一页</span>\r\n          </div>\r\n        }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React,{useState,useEffect,Fragment} from 'react'\r\n\r\nimport {API,API_KEY} from '../../request/api'\r\nimport {Get} from '../../request/index'\r\nimport Info from './components/Info'\r\nimport Rates from './components/Rates'\r\nimport Judge from './components/Judge'\r\nimport About from './components/About'\r\nimport Comments from './components/Comments'\r\nimport './index.less'\r\nexport default function Subject(props:any) {\r\n  const [data,setData]=useState<any>({})\r\n  const [loading,setLoading]=useState(true)\r\n  useEffect(()=>{\r\n    const {id}=props.match.params\r\n    const url=API.Subject+`/${id}`\r\n    Get(url,{params:{apikey:API_KEY}}).then((resp:any)=>{\r\n      setData(resp.data)\r\n      setLoading(false)\r\n    }).catch((err:any)=>alert(err))\r\n  },[])\r\n\r\n  return (\r\n    !loading?\r\n    <div className='subject-info' >\r\n     <h1>{data.title} <span>({data.year})</span> </h1>\r\n     <div className=\"article\">\r\n       <div className=\"content\">\r\n         <div className=\"subject-wrap\">\r\n           <div className=\"subject\">\r\n             <div className=\"post\">\r\n               <img src={'https://images.weserv.nl/?url='+data.images.small.replace('http://','')}  alt={data.title}/>\r\n             </div>\r\n             <Info \r\n                directors={data.directors}\r\n                writers={data.writers}\r\n                casts={data.casts}\r\n                genres={data.genres}\r\n                countries={data.countries}\r\n                languages={data.languages}\r\n                pubdates={data.pubdates}\r\n                durations={data.durations}\r\n                aka={data.aka}\r\n                episodes_count={data.episodes_count}\r\n              />\r\n           </div>\r\n            <Rates rating={data.rating} ratings_count={data.ratings_count}/>\r\n         </div>\r\n         <Judge/>\r\n         <About data={data}/>\r\n         <Comments data={data} film={false}/>\r\n         <Comments data={data} film={true}/>\r\n       </div>\r\n     </div>\r\n    </div>\r\n    :''\r\n  )\r\n}\r\n","import React, { Component } from 'react'\r\n\r\n\r\n\r\nexport default class NotFound extends Component {\r\n  componentDidMount(){\r\n    alert('in')\r\n    this.goBack()\r\n  }\r\n  componentWillUnmount(){\r\n    alert('out')\r\n    window.removeEventListener('popstate',this.goNewPage)\r\n  }\r\n  goBack=()=>{\r\n    window.history.pushState(null,'', document.URL)\r\n    window.addEventListener('popstate', this.goNewPage)\r\n}\r\n  goNewPage=()=>{\r\n    console.log('xxxxx')\r\n    window.location.href='https://www.baidu.com'\r\n  }\r\n  render() {\r\n    return (\r\n      <div >\r\n        aaa\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport {BrowserRouter,Switch,Route,Redirect} from 'react-router-dom'\r\nimport { Input } from 'antd';\r\nimport './App.less'\r\nimport {routers} from './routes'\r\nimport NotFound from './pages/NotFound'\r\nconst Search = Input.Search;\r\nconst App: React.FC = () => {\r\n  return (\r\n    <div className=\"App\">\r\n      <header>\r\n      <ul className='header-left'>\r\n        <li><a href=\"\">豆瓣</a></li>\r\n        <li><a href=\"\">读书</a></li>\r\n        <li><a href=\"\">电影</a></li>\r\n        <li><a href=\"\">音乐</a></li>\r\n        <li><a href=\"\">同城</a></li>\r\n        <li><a href=\"\">小组</a></li>\r\n        <li><a href=\"\">阅读</a></li>\r\n        <li><a href=\"\">FM</a></li>\r\n        <li><a href=\"\">时间</a></li>\r\n        <li><a href=\"\">豆品</a></li>\r\n        <li><a href=\"\">更多</a></li>\r\n      </ul>\r\n      <ul className='header-right'>\r\n        <li><a href=\"#\">下载豆瓣客户端</a></li>\r\n        <li><a href=\"#\">登录/注册</a></li>\r\n      </ul>\r\n      </header>\r\n      <div className=\"search\">\r\n        <div className=\"top\">\r\n          <div className=\"wrap\">\r\n            <div className=\"logo\"><a href=\"#\"></a></div>\r\n            <div className=\"input\">\r\n            <Search placeholder=\"搜索电影、电视剧呀、综艺、影人\" onSearch={value => console.log(value)} enterButton />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"bottom\">\r\n          <div className=\"wrap\">\r\n            <ul>\r\n              <li><a href=\"\">影讯&amp;购票</a></li>\r\n              <li><a href=\"\">选电影</a></li>\r\n              <li><a href=\"\">电视剧</a></li>\r\n              <li><a href=\"\">排行榜</a></li>\r\n              <li><a href=\"\">分类</a></li>\r\n              <li><a href=\"\">影评</a></li>\r\n              <li><a href=\"\">2018年度榜单</a></li>\r\n              <li><a href=\"\">2018书影音报告</a></li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n          <a href=\"#\" className='rank'></a>\r\n      </div>\r\n      \r\n     <BrowserRouter>\r\n      <Switch>\r\n        {\r\n          routers.map((item:any)=>{return <Route path={item.url} component={item.component} key={item.key}/>})\r\n        }\r\n        <Redirect to='/home' from='/' exact />\r\n        <Route path='/404' component={NotFound} exact/>\r\n        <Redirect to='/404'/>\r\n      </Switch>\r\n     </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}