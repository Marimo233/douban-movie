(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){e.exports=a(254)},115:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},126:function(e,t,a){},204:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},226:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){},229:function(e,t,a){},230:function(e,t){e.exports="data:image/gif;base64,R0lGODlhCwALAIABAGZmZv///yH5BAEAAAEALAAAAAALAAsAAAIWjI8Hy6BpnINx0kVjsMji/T1cN3ZUAQA7"},231:function(e,t){e.exports="data:image/jpeg;base64,R0lGODlhCgALAIABAGZmZv///yH5BAEAAAEALAAAAAAKAAsAAAIUjI9pwAqbnkQPnhpwvpT73YFUoxQAOw=="},232:function(e,t){e.exports="data:image/jpeg;base64,R0lGODlhCAALAIABAGZmZv///yH5BAEAAAEALAAAAAAIAAsAAAIQjI+JAMreDJu0PhlXPledAgA7"},233:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){},238:function(e,t,a){},254:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(2),c=a.n(r),m=(a(115),a(116),a(109)),s=a.n(m),i=a(44),o=a(25),u=(a(120),a(6)),E=(a(121),a(122),a(26),a(11)),d=a.n(E),p=a(102);a(126);function f(e){var t=e.detail,a=e.isHotList;return l.a.createElement("div",{className:"hover-content",style:{left:e.pos.x+"px",top:e.pos.y+"px"}},a?l.a.createElement("div",{className:"HotList-Card"},l.a.createElement("h1",null,t.title," ",l.a.createElement("span",null,t.year)),l.a.createElement("div",{className:"hover-rates"},l.a.createElement(d.a,{disabled:!0,value:Math.round(t.rating.average)/2,allowHalf:!0}),l.a.createElement("span",null,t.rating.average.toFixed(1)," ",l.a.createElement("i",null,"(".concat(t.collect_count,"\u4eba\u8bc4\u4ef7)")))),l.a.createElement("div",{className:"time-local"},l.a.createElement("span",null,t.durations[0]),l.a.createElement("span",null,t.pubdates[0].match(/[\u4e00-\u9fa5]/g).join(""))),l.a.createElement("div",{className:"directors"},"\u5bfc\u6f14 ",l.a.createElement("span",null,t.directors[0].name)),l.a.createElement("div",{className:"casts"},"\u6f14\u5458 ",l.a.createElement("span",null,t.casts.map(function(e){return e.name}).join("/")))):l.a.createElement("div",{className:"Hot-card"},l.a.createElement("h1",null,t.title),l.a.createElement("div",{className:"rates"},l.a.createElement(d.a,{disabled:!0,value:Math.round(t.rate)/2,allowHalf:!0}),l.a.createElement("span",null,Number(t.rate).toFixed(1))),l.a.createElement("div",{className:"casts"},t.playable?l.a.createElement("span",{className:"special"},"\u53ef\u64ad\u653e"):"",l.a.createElement("span",null,t.duration),t.is_tv?l.a.createElement("span",null,t.episodes_count,"\u96c6"):"",t.types.map(function(e){return l.a.createElement("span",null,e)}),l.a.createElement("span",null,t.directors[0],"(\u5bfc\u6f14)"),t.actors.slice(0,3).map(function(e){return l.a.createElement("span",null,e)})),l.a.createElement("div",{className:"btn-group"},l.a.createElement("button",null,"\u5728\u770b"),l.a.createElement("button",null,"\u60f3\u770b"),l.a.createElement("button",null,"\u770b\u8fc7")),l.a.createElement("div",{className:"short_comment"},t.short_comment.content," ",l.a.createElement("span",null,"-",t.short_comment.author))))}var v={HotShowing:"/test/movie/in_theaters",Billbord:"/test/movie/weekly",HotTitle:"/api/search_tags",Hot:"/api/search_subjects",Gallary:"/rap2/mock/223156/doubanMovie/gallery",Recommand:"/rap2/mock/223156/doubanmovie/recommand",Card:"/api/subject_abstract",Subject:"/test/movie/subject"},h="0b2bdeda43b5688921839c8ecb20399b",b=a(71),g=a.n(b);window.cancalXHRList=[];var w=function(e,t){return function(){var e=g.a.CancelToken.source();return window.cancalXHRList.push(e),g.a.create({timeout:3e4,cancelToken:e.token})}().get(e,t)},N=(a(204),Object(o.f)(function(e){var t=Object(p.a)({},e),a=Object(n.useRef)(null),r=t.Info,m=t.isHotList,s=t.index,i=void 0===s?0:s,o=t.isgallary,E=document.getElementById("root"),h=Object(n.useState)(!1),b=Object(u.a)(h,2),g=b[0],N=b[1],j=Object(n.useState)(!1),y=Object(u.a)(j,2),A=y[0],k=y[1],O=Object(n.useRef)(A),_=Object(n.useState)(!1),x=Object(u.a)(_,2),S=x[0],L=x[1],H=Object(n.useState)({x:0,y:0}),C=Object(u.a)(H,2),B=C[0],M=C[1],R=Object(n.useState)([]),F=Object(u.a)(R,2),I=F[0],P=F[1];Object(n.useEffect)(function(){O.current=A});var T=function(){if(a.current){var e=a.current.getBoundingClientRect().left+window.pageXOffset+a.current.offsetWidth+5,t=a.current.getBoundingClientRect().top+window.pageYOffset;M({x:e,y:t})}},G=function(e){t.history.push("/subject/".concat(e))};return Object(n.useEffect)(function(){var e;return S?e=setTimeout(function(){T(),N(!0)},800):N(!1),function(){clearTimeout(e)}},[S]),l.a.createElement(n.Fragment,null,o?l.a.createElement("div",{key:r.id,className:"gallary-wrap"},l.a.createElement("div",{className:"gallary-img"},l.a.createElement("img",{src:r.banner,alt:""})),l.a.createElement("div",{className:"gallary-content"},l.a.createElement("p",{className:"gallary-title"},r.title),l.a.createElement("p",{className:"gallary-detail"},r.content))):m?l.a.createElement("div",{key:r.id,className:"post-wrap",ref:a,style:{marginRight:(i+1)%5!==0?"25px":""},onClick:function(){G(r.id)}},l.a.createElement("div",{className:"theaterPost",onMouseEnter:function(){L(!0)},onMouseLeave:function(){L(!1)}},l.a.createElement("img",{src:"https://images.weserv.nl/?url="+r.images.small.replace("https://",""),alt:r.title})),l.a.createElement("h1",null,l.a.createElement("a",{href:"javascript:void(0)"},r.title)),l.a.createElement("div",{className:"rates"},0===r.rating.average?l.a.createElement("span",{style:{fontSize:"12px",color:"#333"}},"\u6682\u65e0\u8bc4\u5206"):l.a.createElement(n.Fragment,null,l.a.createElement(d.a,{disabled:!0,value:Math.round(r.rating.average)/2,allowHalf:!0}),l.a.createElement("span",null,r.rating.average.toFixed(1)))),g?c.a.createPortal(l.a.createElement(f,{detail:r,pos:B,isHotList:m}),E):null,l.a.createElement("button",null,l.a.createElement("a",{href:"https://maoyan.com/query?kw=".concat(r.title)},"\u9009\u5ea7\u8d2d\u7968"))):l.a.createElement("div",{className:"list-wrap",style:{marginRight:(i+1)%5!==0?"25px":"",marginBottom:0===Math.floor(i/5)?"10px":""},ref:a,onClick:function(){G(r.id)}},l.a.createElement("div",{className:"listPost",onMouseEnter:function(){var e;e=r.id,T(),I.length?N(!0):(k(!0),w(v.Card,{params:{subject_id:e}}).then(function(e){if(O.current){var t=e.data.subject;I.push(t),P(I),N(!0)}}))},onMouseLeave:function(){return N(!1),k(!1)}},l.a.createElement("img",{src:r.cover,alt:r.title})),l.a.createElement("p",{className:"listTitle"},r.is_new?l.a.createElement("i",null):"",r.title,l.a.createElement("strong",null,r.rate)),g?c.a.createPortal(l.a.createElement(f,{detail:I[0],pos:B,isHotList:m}),E):null))})),j=a(108),y=a.n(j),A=(a(224),a(225),function(e){var t=e.onClick,a=e.isHotList;return l.a.createElement("div",{className:a?"prevArrow-wrap-list":"prevArrow-wrap",onClick:t},l.a.createElement("a",{href:"javascript:void(0)",className:"prev-btn switch-btn"}))}),k=function(e){var t=e.onClick,a=e.isHotList;return l.a.createElement("div",{className:a?"nextArrow-wrap-list":"nextArrow-wrap",onClick:t},l.a.createElement("a",{href:"javascript:void(0)",className:"next-btn switch-btn"}))};function O(e){var t=e.changePage,a=e.isHotList,n=e.children,r={dots:!a,speed:1500,slidesToShow:1,slidesToScroll:1,prevArrow:l.a.createElement(A,{isHotList:a}),nextArrow:l.a.createElement(k,{isHotList:a}),autoplay:!0,autoplaySpeed:6e3,infinite:!0,beforeChange:function(e,a){t&&t(a+1)}};return l.a.createElement("div",null,l.a.createElement(y.a,r,n))}function _(e){var t=e.ishotList,a=e.isMovie,r=e.isgallary,c=Object(n.useState)(1),m=Object(u.a)(c,2),s=m[0],i=m[1],o=Object(n.useState)([]),E=Object(u.a)(o,2),d=E[0],p=E[1],f=Object(n.useState)([]),b=Object(u.a)(f,2),g=b[0],j=b[1],y=t?r?1:5:10;Object(n.useEffect)(function(){var e=t?r?v.Gallary:v.HotShowing:v.Hot;w(e,t?r?{}:{params:{apikey:h}}:{params:{type:a?"movie":"tv",tag:"\u70ed\u95e8",page_limit:50,page_start:0}}).then(function(e){for(var t=e.data.subjects,a=void 0===t?Array(20):t,n=[],l=0;l<a.length;l+=y)n.push(a.slice(l,l+y));p(n)})},[]),Object(n.useEffect)(function(){var e=v.HotTitle;w(e,{params:{type:a?"movie":"tv",tag:"\u70ed\u95e8",source:"index"}}).then(function(e){var t=e.data.tags;j(t)})},[]);var A=d.length;return l.a.createElement("div",{className:"theaterContainer"},l.a.createElement("div",{className:"carousel-title"},t?l.a.createElement("div",{className:"theaterContainer-head"},r?l.a.createElement("b",null,"\u70ed\u95e8\u63a8\u8350"):l.a.createElement(n.Fragment,null,l.a.createElement("b",null,"\u6b63\u5728\u70ed\u6620"),l.a.createElement("a",null,"\u5168\u90e8\u6b63\u5728\u70ed\u6620\xbb"),l.a.createElement("a",null,"\u5373\u5c06\u4e0a\u6620\xbb")),l.a.createElement("i",null,s,l.a.createElement("span",null,"/"),A)):l.a.createElement("div",{className:"hot-title"},a?l.a.createElement("b",null,"\u6700\u8fd1\u70ed\u95e8\u7535\u5f71"):l.a.createElement("b",null,"\u6700\u8fd1\u70ed\u95e8\u7535\u89c6\u5267"),l.a.createElement("ul",null,g.map(function(e,t){return l.a.createElement("li",{key:e,className:0===t?"active-li":""},e)})),l.a.createElement("a",{href:"#"},"\u66f4\u591a\xbb"))),d.length>0&&l.a.createElement(O,{changePage:function(e){i(e)},isHotList:t},d.map(function(e,a){return l.a.createElement("div",{key:a},l.a.createElement("div",{className:"theaterContainer-wrap"},e.map(function(e,a){return l.a.createElement(N,{Info:e,isHotList:t,key:e.id,index:a,isgallary:r})})))})))}a(226);function x(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)(function(){var e=v.Recommand;w(e,{params:{apikey:h}}).then(function(e){var t=e.data.data;r(t)})},[]),l.a.createElement("div",{className:"recommand-wrap"},l.a.createElement("div",{className:"recommand-title"},l.a.createElement("b",null,"\u6700\u53d7\u6b22\u8fce\u7684\u5f71\u8bc4"),l.a.createElement("a",{href:"#"},"\u66f4\u591a\u70ed\u95e8\u5f71\u8bc4"),l.a.createElement("a",{href:"#"},"\u65b0\u7247\u5f71\u8bc4")),a.map(function(e){return l.a.createElement("div",{className:"recommand-content"},l.a.createElement("div",{className:"recommand-post"},l.a.createElement("img",{src:e.post,alt:e.title})),l.a.createElement("div",{className:"recommand-detail"},l.a.createElement("div",{className:"recommand-detail-title"},e.title),l.a.createElement("p",{className:"user"},e.name,l.a.createElement("span",null,"\u8bc4\u8bba"),l.a.createElement("i",null,e.movie_title),l.a.createElement(d.a,{value:Math.round(e.rates)/2,disabled:!0,allowHalf:!0})),l.a.createElement("p",{className:"recommand-detail-word"},e.detail,l.a.createElement("a",{href:"#"},"(\u5168\u6587)"))))}))}var S=function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)(function(){var e=v.Billbord;w(e,{params:{apikey:h}}).then(function(e){c(e.data.subjects)})},[]),l.a.createElement("div",null,l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"wrap"},l.a.createElement("div",{className:"content-left"},l.a.createElement(_,{ishotList:!0,isgallary:!1}),l.a.createElement(_,{ishotList:!1,isMovie:!0}),l.a.createElement(_,{ishotList:!1,isMovie:!1}),l.a.createElement(_,{ishotList:!0,isgallary:!0}),l.a.createElement(x,null)),l.a.createElement("div",{className:"content-right"},l.a.createElement("div",{className:"answer"},l.a.createElement("a",{href:"#"},"\u8c46\u74e3\u7535\u5f71\u8bc4\u5206\u516b\u95ee")),l.a.createElement("div",{className:"movie-activity"},l.a.createElement("div",{className:"activity-title"},"\u7535\u5f71\u6d3b\u52a8 \xa0 \xb7 \xa0\xb7\xa0 \xb7\xa0 \xb7\xa0 \xb7 \xa0\xb7"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:"https://www.douban.com/doubanapp/dispatch?uri=/niffler/column/157","data-bid":"2746",target:"_blank"},"\u7535\u5f71\u58f0\u97f3\u7684\u9b54\u76d2 | \u597d\u83b1\u575e\u58f0\u97f3\u8bbe\u8ba1\u5927\u5e08\u8bfe")),l.a.createElement("li",null,l.a.createElement("a",{href:"https://bizpage.douban.com/hollywood-producer/","data-bid":"2735",target:"_blank"},"\u62db\u52df | \u597d\u83b1\u575e\u5236\u7247\u4eba\u7535\u5f71\u5546\u52a1\u4ea4\u6d41\u4e4b\u65c5")))),l.a.createElement("div",{className:"billboard"},l.a.createElement("h2",null,"\u4e00\u5468\u53e3\u7891\u699c ",l.a.createElement("a",{href:"#"},"\u66f4\u591a\u699c\u5355\xbb")),l.a.createElement("ul",null,r.map(function(e,t){var a=e.subject;return l.a.createElement("li",null,l.a.createElement("span",null,t+1),l.a.createElement("a",{href:a.alt},a.title))}))),l.a.createElement("div",{id:"doulist"},l.a.createElement("h2",null,"\u70ed\u95e8\u8c46\u5217"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("span",null,"15\u63a8\u8350"),l.a.createElement("div",{className:"title"},l.a.createElement("a",{target:"_blank",href:"https://www.douban.com/doulist/2540888/"},"\u5c0f\u4f17\u8ff7\u4f60\u7f6a\u6848\u5267"))),l.a.createElement("li",null,l.a.createElement("span",null,"15\u63a8\u8350"),l.a.createElement("div",{className:"title"},l.a.createElement("a",{target:"_blank",href:"https://www.douban.com/doulist/1545747/"},"\u8fd9\u4e9b\u5e74\uff0c\u6211\u770b\u8fc7\u7684les\u7247(\u4e0d\u65ad\u66f4\u65b0\u4e2d\uff09"))))),l.a.createElement("div",{className:"contact-and-cooperation"},l.a.createElement("h2",null,"\u5408\u4f5c\u8054\u7cfb"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u7535\u5f71\u5408\u4f5c\u90ae\u7bb1\uff1a",l.a.createElement("img",{src:"https://img3.doubanio.com/f/movie/c858df348b4d199c848774ed1b3ed529052f0fa1/pics/movie/email_movie.png"})),l.a.createElement("li",null,"\u7535\u89c6\u5267\u5408\u4f5c\u90ae\u7bb1\uff1a",l.a.createElement("img",{src:"https://img3.doubanio.com/f/movie/4de38ce91fdad7bcf3246c2594c84fa800eba08a/pics/movie/email_tv.png"}),l.a.createElement("img",{src:"https://img3.doubanio.com/f/shire/486503da8c82ffdbecec41c065927f96cbf02e4f/pics/icon/ic_new.png",className:"new"})),l.a.createElement("li",null,"\u8c46\u74e3\u5f71\u4ebaPRO\u5408\u4f5c\u90ae\u7bb1\uff1a",l.a.createElement("img",{src:"https://img3.doubanio.com/f/movie/51a921a21ca8b612d586d37d3eb122e583a20d67/pics/movie/email_pro.png"})))),l.a.createElement("div",{className:"contact-mod"},l.a.createElement("h2",null,"\u5173\u6ce8\u6211\u4eec"),l.a.createElement("ul",{className:"embassy-list clearfix"},l.a.createElement("li",null,l.a.createElement("a",{href:"https://weibo.com/doubanfilm",target:"_blank",className:"icon-embassy-weibo"}),l.a.createElement("a",{href:"https://weibo.com/doubanfilm",target:"_blank",className:"primary-link"},"\u5fae\u535a")),l.a.createElement("li",null,l.a.createElement("a",{className:"icon-embassy-weixin"},l.a.createElement("div",{className:"hover"},l.a.createElement("img",{src:"https://img3.doubanio.com/f/movie/2e2ea342f4f4590300de32c5f30a9184176b3541/pics/movie/home_wechat_qrcode@2x.jpg"}))),l.a.createElement("a",{className:"primary-link",href:"javascript:;"},"\u5fae\u4fe1")),l.a.createElement("li",null,l.a.createElement("a",{href:"https://weibo.com/doubanzui",target:"_blank",className:"icon-embassy-bite-me"}),l.a.createElement("a",{href:"https://weibo.com/doubanzui",target:"_blank",className:"primary-link"},"\u74e3\u5634")),l.a.createElement("li",null,l.a.createElement("a",{href:"https://www.douban.com/people/186015655/",target:"_blank",className:"icon-embassy-film-pro"}),l.a.createElement("a",{href:"https://www.douban.com/people/186015655/",target:"_blank",className:"primary-link"},"\u8c46\u74e3\u5f71\u4ebaPRO")),l.a.createElement("li",null,l.a.createElement("a",{href:"https://www.douban.com/people/nobodyfilm/",target:"_blank",className:"icon-embassy-club-site"}),l.a.createElement("a",{href:"https://www.douban.com/people/nobodyfilm/",target:"_blank",className:"primary-link"},"\u89c2\u5f71club"))))))))};a(227);function L(e){var t=e.directors,a=e.writers,r=e.casts,c=e.genres,m=e.countries,s=e.languages,i=e.pubdates,o=e.durations,u=e.aka,E=e.episodes_count,d=function(e,t){return e.map(function(e,a){return l.a.createElement(n.Fragment,null,0===a?"":l.a.createElement("span",null,"/"),t?l.a.createElement("a",{href:e.alt,key:e.id},e.name):l.a.createElement("span",null,e))})};return l.a.createElement("div",{className:"info"},l.a.createElement("p",null,"\u5bfc\u6f14\uff1a",d(t,!0)),l.a.createElement("p",null,"\u7f16\u5267\uff1a",d(a,!0)),l.a.createElement("p",null,"\u6f14\u5458\uff1a",d(r,!0)),l.a.createElement("p",null,"\u7c7b\u578b\uff1a",d(c,!1)),l.a.createElement("p",null,"\u5236\u7247\u56fd\u5bb6/\u5730\u533a\uff1a",d(m,!1)),l.a.createElement("p",null,"\u8bed\u8a00\uff1a",d(s,!1)),l.a.createElement("p",null,"\u4e0a\u6620\u65e5\u671f\uff1a",d(i,!1)),E?l.a.createElement("p",null,"\u96c6\u6570\uff1a",E):"",l.a.createElement("p",null,"\u7247\u957f\uff1a",d(o,!1)),u.length?l.a.createElement("p",null,"\u53c8\u540d\uff1a",d(u,!1)):"")}a(228);var H=function(e){var t=e.details,a=0;Object.keys(t).forEach(function(e){a+=t[e]});for(var r=[],c=5;c>0;c--){var m=parseFloat((100*t[c]/a).toString()).toFixed(1),s=l.a.createElement("div",{className:"number-detail",key:c},l.a.createElement("span",{className:"star-num"},c,"\u661f"),l.a.createElement("span",{className:"star-power",style:{width:"".concat(m,"px")}}),l.a.createElement("span",{className:"star-num"},m,"%"));r.push(s)}return l.a.createElement(n.Fragment,null,r)};function C(e){var t=e.rating,a=e.ratings_count;return l.a.createElement("div",{className:"subject-rates"},l.a.createElement("h4",null,"\u8c46\u74e3\u8bc4\u5206"),l.a.createElement("div",{className:"rate-top"},l.a.createElement("div",{className:"rates"},l.a.createElement("div",{className:"average"},0===t.average?"":t.average.toFixed(1)),l.a.createElement("div",{className:"detail"},l.a.createElement(d.a,{value:Math.round(t.average)/2,allowHalf:!0,disabled:!0}),l.a.createElement("p",null,0===t.average?"\u6682\u65e0\u8bc4\u4ef7":"\u5df2\u6709".concat(a,"\u4eba\u8bc4\u4ef7")))),l.a.createElement("div",{className:"rate-number"},0===t.average?"":l.a.createElement(H,{details:t.details}))),l.a.createElement("div",{className:"rate-bottom"},l.a.createElement("p",null,"\u597d\u4e8e",l.a.createElement("span",null,"88%\u7684\u79d1\u5e7b\u7247")),l.a.createElement("p",null,"\u597d\u4e8e",l.a.createElement("span",null,"91%\u7684\u52a8\u4f5c\u7247"))))}a(229);function B(){var e=Object(n.useState)(0),t=Object(u.a)(e,2),r=t[0],c=t[1],m=Object(n.useState)(0),s=Object(u.a)(m,2),i=s[0],o=s[1];return l.a.createElement("div",{className:"judge-wrap"},l.a.createElement("div",{className:"judge-top"},l.a.createElement("button",null,"\u60f3\u770b"),l.a.createElement("button",null,"\u770b\u8fc7"),l.a.createElement("span",null,"\u8bc4\u4ef7:\xa0\xa0\xa0"),l.a.createElement(d.a,{value:r,onHoverChange:function(e){!function(e,t){e&&(i&&clearTimeout(i),o(window.setTimeout(function(){c(e)},t)))}(e,200)}}),l.a.createElement("span",null,["\u5f88\u5dee","\u8f83\u5dee","\u8fd8\u884c","\u63a8\u8350","\u529b\u8350"][r-1])),l.a.createElement("div",{className:"judge-bottom"},l.a.createElement("span",null,l.a.createElement("img",{src:a(230)}),"\xa0",l.a.createElement("a",{href:"#"},"\u5199\u77ed\u8bc4")),l.a.createElement("span",null,l.a.createElement("img",{src:a(231)}),"\xa0",l.a.createElement("a",{href:"#"},"\u5199\u5f71\u8bc4")),l.a.createElement("span",null,l.a.createElement("img",{src:a(232)}),"\xa0",l.a.createElement("a",{href:"#"},"\u63d0\u95ee\u9898")),l.a.createElement("a",{href:"#"},"\u5206\u4eab\u5230")))}a(233);function M(e){var t=e.data;return t&&l.a.createElement("div",{className:"subject-about"},l.a.createElement("div",{className:"subject-brief"},l.a.createElement("h1",null,t.title,"\u7684\u5267\u60c5\u7b80\u4ecb\xa0\xb7 \xa0\xb7 \xa0\xb7\xa0\xb7\xa0 \xb7 \xa0\xb7"),l.a.createElement("p",null,t.summary)),l.a.createElement("div",{className:"subject-casts"},l.a.createElement("h1",null,t.title,"\u7684\u6f14\u804c\u5458\xa0\xb7 \xa0\xb7 \xa0\xb7\xa0\xb7\xa0 \xb7 \xa0\xb7",l.a.createElement("a",{href:"#"},"\u5168\u90e8\uff1a(",t.directors.length+t.casts.length,")")),l.a.createElement("div",{className:"casts-img"},t.directors.map(function(e){return l.a.createElement("dl",null,l.a.createElement("dt",null,l.a.createElement("img",{src:"https://images.weserv.nl/?url="+e.avatars.small.replace("http://",""),alt:e.name})),l.a.createElement("dd",null,e.name),l.a.createElement("p",null,"\u5bfc\u6f14"))}),t.casts.map(function(e){return l.a.createElement("dl",null,l.a.createElement("dt",null,l.a.createElement("img",{src:"https://images.weserv.nl/?url="+e.avatars.small.replace("http://",""),alt:e.name})),l.a.createElement("dd",null,e.name),l.a.createElement("p",null,"\u6f14\u5458"))}))),l.a.createElement("div",{className:"subject-trailer"},l.a.createElement("h1",null,t.title,"\u7684\u89c6\u9891\u548c\u56fe\u7247",l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:"#"},"\uff08\xa0\u9884\u544a\u7247",t.trailer_urls.length)),l.a.createElement("i",null,"|"),l.a.createElement("li",null,l.a.createElement("a",{href:"#"},"\u6dfb\u52a0\u89c6\u9891\u8bc4\u8bba")),l.a.createElement("i",null,"|"),l.a.createElement("li",null,l.a.createElement("a",{href:"#"},"\u56fe\u7247",t.trailers.length," ",l.a.createElement("span",null," \xa0\xb7\xa0 "),"\u6dfb\u52a0\xa0",")"),"\xa0"))),l.a.createElement("ul",null,l.a.createElement("li",{className:"videoLi"},l.a.createElement("video",{src:t.trailer_urls,poster:t.trailers[0].medium}),l.a.createElement("span",null,"\u9884\u544a\u7247")),t.trailers.map(function(e){return l.a.createElement("li",null,l.a.createElement("img",{src:e.medium,alt:""}))}))))}a(99);var R=a(14),F=a.n(R),I=a(34),P=a(35),T=a(37),G=a(36),q=a(38),Z=(a(235),function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(T.a)(this,Object(G.a)(t).call(this,e))).scrollContent=function(){a.setState(function(e,t){return{fold:!e.fold}})},a.state={fold:e.item.content.length>180},a}return Object(q.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.film,r=e.last;return l.a.createElement("div",{className:"comment",key:t.id,style:{borderBottom:r?"none":"1px solid rgba(221,221,221,0.5)"}},l.a.createElement("div",{className:"top"},a?l.a.createElement("img",{src:t.author.avatar,alt:""}):"",l.a.createElement("a",{href:"#"},t.author.name),"\u770b\u8fc7",l.a.createElement(d.a,{value:t.rating.value}),l.a.createElement("span",null,a?t.created_at:t.created_at.replace(/\s(\d{2}\:){2}\d{2}$/g,"")),a?"":l.a.createElement("b",null,t.useful_count,l.a.createElement("a",{href:"#"},"\u6709\u7528"))),l.a.createElement("div",{className:"content"},a?l.a.createElement("p",{className:"title"}," ",l.a.createElement("a",{href:"#"},t.title)):"",l.a.createElement("div",{className:"content-detail"},this.state.fold?l.a.createElement(n.Fragment,null,t.content.slice(0,180)+"...",l.a.createElement("span",{onClick:this.scrollContent},"(\u5c55\u5f00)")):t.content.length>180?l.a.createElement(n.Fragment,null,t.content.split("\n").map(function(e){return l.a.createElement("p",{style:{marginBottom:"20px"}},e)}),l.a.createElement("span",{onClick:this.scrollContent},"(\u6536\u8d77)")):t.content)),a?l.a.createElement("div",{className:"support-btn"},l.a.createElement("a",{className:"btn"},l.a.createElement(F.a,{type:"up"}),t.useful_count),l.a.createElement("a",{className:"btn"},l.a.createElement(F.a,{type:"down"}),t.useless_count),l.a.createElement("a",{href:"#"},t.comments_count,"\u56de\u5e94")):"")}}]),t}(n.Component));a(236);function D(e){var t=Object(n.useState)(),a=Object(u.a)(t,2),r=a[0],c=a[1],m=Object(n.useState)(),s=Object(u.a)(m,2),o=s[0],E=s[1],d=Object(n.useState)(!0),p=Object(u.a)(d,2),f=p[0],b=p[1],g=e.data,N=e.film;return Object(n.useEffect)(function(){var e=N?"/reviews":"/comments",t=v.Subject+"/"+g.id+e;w(t,{params:{apikey:h}}).then(function(e){c(e.data),e.data.comments?E(e.data.comments):E(e.data.reviews),b(!1)})},[]),l.a.createElement("div",{className:"comments-wrap"},l.a.createElement("div",{className:"short-comment"},l.a.createElement("h1",null,g.title,"\u7684",N?"\u5f71\u8bc4":"\u77ed\u8bc4","\xa0\xb7 \xa0\xb7 \xa0\xb7\xa0\xb7\xa0 \xb7 \xa0\xb7",l.a.createElement("span",null,"(\u5168\u90e8",g.comments_count,"\u6761)")," ",l.a.createElement("a",{href:"#"}," ",l.a.createElement("span",null,"\u6211\u8981\u5199",N?"\u5f71\u8bc4":"\u77ed\u8bc4"))),l.a.createElement("h2",{className:"comments-catalog"},"\u70ed\u95e8",l.a.createElement("span",null,"/"),l.a.createElement("a",{href:"#"},"\u6700\u65b0"),l.a.createElement("span",null,"/"),l.a.createElement("a",{href:"#"},"\u597d\u53cb")),!f&&o.map(function(e,t){return l.a.createElement(Z,{film:N,item:e,last:t===o.length-1,key:e.id})}),!f&&l.a.createElement("p",{className:"more-comments"}," ",N?l.a.createElement(i.b,{to:"/subject/".concat(g.id,"/review")},"\u66f4\u591a\u5f71\u8bc4",r.total,"\u7bc7"):l.a.createElement("a",{href:"#"},"\u66f4\u591a\u77ed\u8bc4",r.total,"\u6761"))))}a(237);a(238);var U=[{url:"/home",key:1,component:S},{url:"/subject/:id/review",key:2,component:function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(T.a)(this,Object(G.a)(t).call(this,e))).request=function(e){var t=a.props.match.params.id,n=v.Subject+"/"+t+"/reviews";w(n,{params:{apikey:h,start:e,count:25}}).then(function(e){a.setState(function(t,n){return{comments:a.state.comments.concat(e.data.reviews),start:e.data.next_start}})}).catch(function(e){return alert(e)})},a.skippage=function(){a.setState({comments:[]},function(){return a.request(a.state.start)})},a.scrollLoad=function(){a.state.timer||a.setState({timer:window.setTimeout(function(){if(window.scrollY-a.state.scrollStart>4e3){if(a.state.comments.length>=75)return;a.request(a.state.start),a.setState(function(e,t){return{start:e.start+25,scrollStart:window.scrollY}})}a.setState({timer:0})},500)})},a.state={comments:[],start:0,div:l.a.createRef(),scrollStart:0,timer:0},a}return Object(q.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){this.request(this.state.start),window.addEventListener("scroll",this.scrollLoad)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollLoad)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"reviews-wrap"},l.a.createElement("div",{className:"article",ref:this.state.div},0!==this.state.comments.length&&this.state.comments.map(function(t,a){return l.a.createElement(Z,{item:t,film:!0,last:a===e.state.comments.length-1})}),this.state.comments.length>=75&&l.a.createElement("div",{className:"nextPage",onClick:this.skippage},l.a.createElement(F.a,{type:"right",style:{verticalAlign:"middle"}})," ",l.a.createElement("span",{style:{verticalAlign:"middle"}}," \u4e0b\u4e00\u9875"))))}}]),t}(n.Component)},{url:"/subject/:id",key:3,component:function(e){var t=Object(n.useState)({}),a=Object(u.a)(t,2),r=a[0],c=a[1],m=Object(n.useState)(!0),s=Object(u.a)(m,2),i=s[0],o=s[1];return Object(n.useEffect)(function(){var t=e.match.params.id,a=v.Subject+"/".concat(t);w(a,{params:{apikey:h}}).then(function(e){c(e.data),o(!1)}).catch(function(e){return alert(e)})},[]),i?"":l.a.createElement("div",{className:"subject-info"},l.a.createElement("h1",null,r.title," ",l.a.createElement("span",null,"(",r.year,")")," "),l.a.createElement("div",{className:"article"},l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"subject-wrap"},l.a.createElement("div",{className:"subject"},l.a.createElement("div",{className:"post"},l.a.createElement("img",{src:"https://images.weserv.nl/?url="+r.images.small.replace("http://",""),alt:r.title})),l.a.createElement(L,{directors:r.directors,writers:r.writers,casts:r.casts,genres:r.genres,countries:r.countries,languages:r.languages,pubdates:r.pubdates,durations:r.durations,aka:r.aka,episodes_count:r.episodes_count})),l.a.createElement(C,{rating:r.rating,ratings_count:r.ratings_count})),l.a.createElement(B,null),l.a.createElement(M,{data:r}),l.a.createElement(D,{data:r,film:!1}),l.a.createElement(D,{data:r,film:!0}))))}}],z=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(T.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(l)))).goBack=function(){window.history.pushState(null,"",document.URL),window.addEventListener("popstate",a.goNewPage)},a.goNewPage=function(){console.log("xxxxx"),window.location.href="https://www.baidu.com"},a}return Object(q.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){alert("in"),this.goBack()}},{key:"componentWillUnmount",value:function(){alert("out"),window.removeEventListener("popstate",this.goNewPage)}},{key:"render",value:function(){return l.a.createElement("div",null,"aaa")}}]),t}(n.Component),J=s.a.Search,Q=function(){return l.a.createElement("div",{className:"App"},l.a.createElement("header",null,l.a.createElement("ul",{className:"header-left"},l.a.createElement("li",null,l.a.createElement("a",{href:""},"\u8c46\u74e3")),l.a.createElement("li",null,l.a.createElement("a",{href:""},"\u8bfb\u4e66")),l.a.createElement("li",null,l.a.createElement("a",{href:""},"\u7535\u5f71")),l.a.createElement("li",null,l.a.createElement("a",{href:""},"\u97f3\u4e50")),l.a.createElement("li",null,l.a.createElement("a",{href:""},"\u540c\u57ce")),l.a.createElement("li",null,l.a.createElement("a",{href:""},"\u5c0f\u7ec4")),l.a.createElement("li",null,l.a.createElement("a",{href:""},"\u9605\u8bfb")),l.a.createElement("li",null,l.a.createElement("a",{href:""},"FM")),l.a.createElement("li",null,l.a.createElement("a",{href:""},"\u65f6\u95f4")),l.a.createElement("li",null,l.a.createElement("a",{href:""},"\u8c46\u54c1")),l.a.createElement("li",null,l.a.createElement("a",{href:""},"\u66f4\u591a"))),l.a.createElement("ul",{className:"header-right"},l.a.createElement("li",null,l.a.createElement("a",{href:"#"},"\u4e0b\u8f7d\u8c46\u74e3\u5ba2\u6237\u7aef")),l.a.createElement("li",null,l.a.createElement("a",{href:"#"},"\u767b\u5f55/\u6ce8\u518c")))),l.a.createElement("div",{className:"search"},l.a.createElement("div",{className:"top"},l.a.createElement("div",{className:"wrap"},l.a.createElement("div",{className:"logo"},l.a.createElement("a",{href:"#"})),l.a.createElement("div",{className:"input"},l.a.createElement(J,{placeholder:"\u641c\u7d22\u7535\u5f71\u3001\u7535\u89c6\u5267\u5440\u3001\u7efc\u827a\u3001\u5f71\u4eba",onSearch:function(e){return console.log(e)},enterButton:!0})))),l.a.createElement("div",{className:"bottom"},l.a.createElement("div",{className:"wrap"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:""},"\u5f71\u8baf&\u8d2d\u7968")),l.a.createElement("li",null,l.a.createElement("a",{href:""},"\u9009\u7535\u5f71")),l.a.createElement("li",null,l.a.createElement("a",{href:""},"\u7535\u89c6\u5267")),l.a.createElement("li",null,l.a.createElement("a",{href:""},"\u6392\u884c\u699c")),l.a.createElement("li",null,l.a.createElement("a",{href:""},"\u5206\u7c7b")),l.a.createElement("li",null,l.a.createElement("a",{href:""},"\u5f71\u8bc4")),l.a.createElement("li",null,l.a.createElement("a",{href:""},"2018\u5e74\u5ea6\u699c\u5355")),l.a.createElement("li",null,l.a.createElement("a",{href:""},"2018\u4e66\u5f71\u97f3\u62a5\u544a"))))),l.a.createElement("a",{href:"#",className:"rank"})),l.a.createElement(i.a,null,l.a.createElement(o.d,null,U.map(function(e){return l.a.createElement(o.b,{path:e.url,component:e.component,key:e.key})}),l.a.createElement(o.a,{to:"/home",from:"/",exact:!0}),l.a.createElement(o.b,{path:"/404",component:z,exact:!0}),l.a.createElement(o.a,{to:"/404"}))))};c.a.render(l.a.createElement(Q,null),document.getElementById("root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.f1812234.chunk.js.map